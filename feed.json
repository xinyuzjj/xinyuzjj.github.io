{
    "version": "https://jsonfeed.org/version/1",
    "title": "峻峻尼的个人博客",
    "description": "",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2022/11/03/2022.11.3/",
            "url": "http://example.com/2022/11/03/2022.11.3/",
            "title": "HCIA(十四）11.3",
            "date_published": "2022-11-03T11:03:08.990Z",
            "content_html": "<h1 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h1>\n<h2 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h2>\n<p><mark><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9hdXRob3J2X2VmZDVkYTBlZDFhMS5hc3B4\">陆游</span>《<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9zaGl3ZW52XzUxYzU2MDUyOWQyYS5hc3B4\">冬夜读书示子聿</span>》</mark></p>\n<p><mark>古人学问无遗力，少壮工夫老始成。</mark><br>\n<mark>纸上得来终觉浅，绝知此事要躬行。</mark></p>\n<h5 id=\"nat\"><a class=\"markdownIt-Anchor\" href=\"#nat\">#</a> NAT:</h5>\n<p>​\t网络地址转换</p>\n<p>​\t背景：</p>\n<p>​\t随着网络的飞速发展，网络设备迅速增多，IPV4 地址已经不够用了，虽然部署 IPV6 能够直接解决 IPV4 不够用的问题，但是要想部署 IPV6 的话，需要更换现有的网络设备，成本高，所以产生了很多缓解 IPV4 地址枯竭的技术，NAT 就是其中一种</p>\n<p>​\t缓解 IPV4 地址枯竭的技术：</p>\n<p>​\t\tVLSM: 可变长子网掩码，通过网络位向主机位借位，让一个网段内的 IP 地址数量减少，避免 IP 地址的浪费</p>\n<p>​\t\tNAT</p>\n<p>​\t解决 IPV4 地址枯竭的技术 IPV6</p>\n<p>​\t\tIPV4 的地址空间 / 数量：2<sup>32</sup></p>\n<p>​\t\tIPV6 的地址空间 / 数量：2<sup>128</sup></p>\n<p>​\t两种 IP 地址:</p>\n<p>​\t\t私网 ip 地址：可以随意使用，但只能在私网内使用，不能直接和公网进行通信，私网 IP 地址允许在没有访问需求的两个私网内重复使用</p>\n<p>​\t\t公网 IP 地址：需要向 IANA 组织进行申请，全球唯一，能够直接在公网上进行通信，公网 IP 地址有两种获取方式：</p>\n<p>​\t\t1. 向 ISP（网络服务提供商）申请</p>\n<p>​\t\t2.PPPoE 获取</p>\n<p>​</p>\n<p>​\tNAT 的作用：</p>\n<p>​\t通过对私网 IP 地址和公网 IP 地址进行转换，实现私网和公网的通信，节约公网 IP 地址数量</p>\n<p>​\tNAT 的分类：</p>\n<p>​\t静态 NAT：管理员手工指定私网 IP 地址和公网 IP 地址的一对一映射，配置量大，公网 IP 地址利用率低，容易造成公网 IP 地址的闲置，而且起不到节约公网 IP 地址数量的目的</p>\n<p>​\t动态 NAT: 需要配置 NAT 公网地址池和 ACL,NAT 公网地址池可以回收未被使用的公网 IP 地址，提高公网 IP 地址的利用率，ACL 可以限制使用该 NAT 地址池转换的私网 IP 地址，动态 NAT 能够简化配置量，不需要一一配置，本质上还是属于私网 IP 地址和公网 IP 地址的一对一映射，也无法实现节约公网 IP 地址数量的目的</p>\n<p>​\t配置：</p>\n<p>​\t\tacl number 2000</p>\n<p>​\t\trule 5 permit</p>\n<p>​\tNAPT：</p>\n<p>​\t\t在动态 NAT 的基础上，对源端口也进行转换，能够实现私网 IP 地址和公网 IP 地址的多对一映射，真正能够起到节约公网 IP 地址数量的目的</p>\n<p>​\t配置：nat outbound 2000 address-group 1</p>\n<p>​\tEasy-ip：</p>\n<p>​\t\t不再需要 NAT 地址池，直接使用私网网关设备连接公网的接口上的公网 IP 地址进行转换，同样也会对源端口进行转换，实现私网 IP 地址和公网 IP 地址的多对一映射，节约公网 IP 地址数量，配置也简单</p>\n<p>​\t配置:nat outbound 2000</p>\n<p>​\tNAT-Server：</p>\n<p>​\t将私网地址映射到公网地址上，公网设备只需要对该公网地址进行访问就可以到对应的私网地址，实现公网到私网的通信</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/11/03/2022.11.2/",
            "url": "http://example.com/2022/11/03/2022.11.2/",
            "title": "HCIA(十三）11.2",
            "date_published": "2022-11-03T11:03:08.987Z",
            "content_html": "<h1 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h1>\n<h2 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h2>\n<p><mark><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9hdXRob3J2XzRmYmEzY2E4YjlmZS5hc3B4\">王贞白</span>《<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9zaGl3ZW52XzA1NjRkN2Y4YjA2Yi5hc3B4\">白鹿洞二首・其一</span>》</mark></p>\n<p><mark>读书不觉已春深，一寸光阴一寸金。(已春深 一作：春已深)</mark><br>\n<mark> 不是道人来引笑，周情孔思正追寻。</mark></p>\n<h5 id=\"acl\"><a class=\"markdownIt-Anchor\" href=\"#acl\">#</a> ACL:</h5>\n<p>​\t访问控制列表</p>\n<p>​\t作用：通过对流量进行识别和分类，对不同类别的流量进行相对应的处理，提高网络安全性和服务质量</p>\n<p>​\t本质：流量过滤</p>\n<p>​\t服务质量的性能指标：</p>\n<p>​\t\t带宽：带宽是指端到端通信链路上单位时间内传输的最大数据量</p>\n<p>​\t\t时延：数据包从源端到目的端所需要的时间</p>\n<p>​\t\t抖动：时延的变化就是抖动，时衡量网络稳定性的指标，越小代表网络越稳定</p>\n<p>​\t\t丢包率：在数据传输过程中，丢弃报文占全部报文的百分比</p>\n<p>​\t\t可用性：可靠性，HA</p>\n<h6 id=\"acl的组成\"><a class=\"markdownIt-Anchor\" href=\"#acl的组成\">#</a> ACL 的组成：</h6>\n<p>​\t\t规则编号：一个 ACL 下可以创建多个规则 RULE，使用规则编号进行标识</p>\n<p>​\t\t\t手工指定：管理员手工指定规则编号</p>\n<p>​\t\t\t自动生成：如果管理员没有指定的话，系统会根据步长自动进行匹配，步长默认 5</p>\n<p>​\t\t处理行为：执行的动作</p>\n<p>​\t\t\tpermit：允许通过</p>\n<p>​\t\t\tdeny：拒绝通过</p>\n<p>​\t\t匹配条件：匹配上该规则的条件，根据不同类型的 ACL 能够使用不同的条件</p>\n<p>​\t\t比如源 / 目 IP, 源 / 目 MAC 地址，协议类型，时间，分片信息</p>\n<h6 id=\"acl的分类\"><a class=\"markdownIt-Anchor\" href=\"#acl的分类\">#</a> ACL 的分类：</h6>\n<p>​\t\t接口 ACL:1000-1999</p>\n<p>​\t\t基本 ACL:2000-2999, 能够匹配报文的源 IP 地址，分片信息，时间</p>\n<p>​\t\t高级 ACL:3000-3999, 能够匹配源 / 目 IP 地址，源 / 目端口，协议类型，时间</p>\n<p>​\t\t\t五元组：源 IP 地址，目的 IP 地址，源端口，目的端口，协议类型（三层协议）</p>\n<p>​\t\t二层 ACL：4000-4999，能够匹配源 MAC，目的 MAC，二层协议</p>\n<p>​\t\t用户自定义 ACL:5000-5999</p>\n<p>​\t\t用户 ACL:6000-6999</p>\n<p>​\tACL 的匹配规则：</p>\n<p>​\t\t按照规则编号从小到大匹配</p>\n<p>​\t\t\t如果匹配上该规则的匹配条件，则执行该规则的相应动作，不再继续匹配</p>\n<p>​\t\t\t如果没有匹配上该规则的匹配条件，则进行下一跳规则的匹配</p>\n<p>​\t\t如果所有规则都没有匹配上，那么执行底层的默认动作</p>\n<p>​\t\t\t如果是匹配数据流量，底层默认动作是允许所有</p>\n<p>​\t\t\t如果是匹配路由信息，底层默认动作是拒绝所有</p>\n<p>​\t通配符：</p>\n<p>​\t\t如果匹配条件是 IP 地址的话，需要在后面配置对应的通配符，表示该规则匹配的 IP 地址范围，通配符 32bit 和 IP 地址类似，不要求是连续的 0 或者连续的 1 组成</p>\n<p>​\t\t如果通配符取值为 0 的话，表示该比特位对应的 IP 地址比特位需要精确匹配</p>\n<p>​\t\t如果通配符取值为 1 的话，表示该比特位对应的 IP 地址比特位任意匹配</p>\n<p>​\t举例：</p>\n<p>​\t\t192.168.1.1 0.0.0.0 ：匹配 192.168.1.1</p>\n<p>​\t\t192.168.1.0 0.0.0.255 匹配 192.168.1.0-192.168.1.255</p>\n<p>​\t\t192.168.1.0.0.0.254 匹配 192.168.1.0-192.168.1.255 的偶数地址</p>\n<p>​\t\t192.168.1.1.0.0.254 匹配 192.168.1.0-192.168.1.255 的奇数地址</p>\n<p>​\t\t0.0.0.0 255.255.255.255 ：所有地址</p>\n<p>​</p>\n<p>​\tTraffic-Filter：流量过滤，属于一种调用工具，能够调用 ACL，本身并不具备动作，具体的动作由调用的 ACL 决定</p>\n<p>​\tACL 配置：</p>\n<p>​\t\t1. 创建 ACL   acl number 3000</p>\n<p>​\t\t2. 创建规则 rule 3 deny icmp source 192.168.1.3 0 destination192.168.2.2 0 time-range haha</p>\n<p>​\t\t3. 接口使用 Traffic-Filter</p>\n<p>​\t\t[R1-G0/0/1]\tTraffic-Filter inbound acl 3000</p>\n<p>​</p>\n<p>​</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/11/01/2022.11.1/",
            "url": "http://example.com/2022/11/01/2022.11.1/",
            "title": "HCIA(十二）11.1",
            "date_published": "2022-11-01T10:06:52.419Z",
            "content_html": "<h1 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h1>\n<h2 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h2>\n<p><mark><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9hdXRob3J2XzViYWQwZGZjNTgyMS5hc3B4\">赵恒</span>《<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9zaGl3ZW52X2EyMzM0OWNkZGYxZS5hc3B4\">劝学诗</span>》</mark></p>\n<p><mark>富家不用买良田，书中自有千钟粟。</mark><br>\n<mark>安居不用架高堂，书中自有黄金屋。</mark><br>\n<mark>出门莫恨无人随，书中车马多如簇。</mark><br>\n<mark>娶妻莫恨无良媒，书中自有颜如玉。</mark><br>\n<mark>男儿欲遂平生志，五经勤向窗前读。</mark></p>\n<p>在 STP 中，只有根桥能够主动发送配置 BPDU，其他非根交换机收到根桥的配置 BPDU 后，才能进行转发，并且修改其中一些参数 (RPC,BID,PID)</p>\n<h6 id=\"stp的工作过程选举过程\"><a class=\"markdownIt-Anchor\" href=\"#stp的工作过程选举过程\">#</a> STP 的工作过程（选举过程）：</h6>\n<ol>\n<li>\n<p>运行 STP 的交换机初始情况下，都会认为自己是根桥，往外发送以自己为根桥的配置 BPDU，收到对方的配置 BPDU 后进行根桥的选举，选择 BID 最小的设备作为根桥</p>\n</li>\n<li>\n<p>在每台非根交换机上选举出一个 RP 根端口，用来接收最优的配置 BPDU</p>\n<p>先比较接口的 RPC，以小为优</p>\n<p>再比较接口连接对端设备的 BID，以小为优</p>\n<p>再比较接口连接对端接口的 PID，以小为优</p>\n<p>最后比较本端接口的 PID，以小为优</p>\n</li>\n<li>\n<p>在每个链路上选举出一个 DP 指定端口，用来发送最优的配置 BPDU</p>\n<p>比较本端设备上最小的 RPC，一笑为优</p>\n<p>比较本地设备的 BID</p>\n<p>比较本地接口的 PID</p>\n</li>\n<li>\n<p>阻塞非根非指定端口，也就是 AP 阻塞端口</p>\n</li>\n</ol>\n<h6 id=\"stp的端口类型\"><a class=\"markdownIt-Anchor\" href=\"#stp的端口类型\">#</a> STP 的端口类型：</h6>\n<p>​\tRP: 根端口，用来接收最优的配置 BPDU</p>\n<p>​\tDP: 指定端口，用来发送最优的配置 BPDU</p>\n<p>​\tAP: 阻塞端口，用来储存最优的 BPDU</p>\n<h6 id=\"stp的端口状态\"><a class=\"markdownIt-Anchor\" href=\"#stp的端口状态\">#</a> STP 的端口状态：</h6>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">状态</th>\n<th style=\"text-align:center\">侦听 BPDU</th>\n<th style=\"text-align:center\">发送 BPDU</th>\n<th style=\"text-align:center\">学习 MAC 地址</th>\n<th style=\"text-align:center\">转发数据</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">disable 禁用</td>\n<td style=\"text-align:center\">×</td>\n<td style=\"text-align:center\">×</td>\n<td style=\"text-align:center\">×</td>\n<td style=\"text-align:center\">×</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Blocking 阻塞</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">×</td>\n<td style=\"text-align:center\">×</td>\n<td style=\"text-align:center\">×</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Listening 侦听</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">×</td>\n<td style=\"text-align:center\">×</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Learning 学习</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">×</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Forwarding 转发</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n<td style=\"text-align:center\">√</td>\n</tr>\n</tbody>\n</table>\n<p>[huawei] stp enable // 使能 STP, 华为默认使能</p>\n<p>[huawei] stp  mode stp// 修改 STP 模式，默认 MSTP</p>\n<p>[huawei-g0/0/1] stp cost 200001/ 修改接口的 STP 的开销</p>\n<p>[huawei] stp priority 0 / 修改设备的桥优先级</p>\n<h6 id=\"stp的重收敛\"><a class=\"markdownIt-Anchor\" href=\"#stp的重收敛\">#</a> STP 的重收敛：</h6>\n<p>​\t收敛：网络初次运行到稳定状态以及网络变更恢复到稳定状态的时间</p>\n<p>当 STP 网络稳定运行后，只有根桥会周期性从 DP 口发送配置 BPDU，通告自己的存活状态，其他设备的 RP 口和 AP 口都是能周期性收到根桥的配置 BPDU</p>\n<ol>\n<li>\n<p>根桥故障：50s=20s 老化时间 + 2 个转发延迟时间 15s</p>\n<p>​\t根桥出现故障，不在周期性发送配置 BPDU，其他非根交换机就无法再收到根桥的配置 BPDU，那么当保存的根桥配置 BPDU 在 20s 老化之后，就会认为根桥出现故障，重新进行 STP 的选举，端口角色发送变化，还需要经过 2 个转发延迟时间才能转发用户数据流量</p>\n</li>\n<li>\n<p>直连故障：30s = 两个转发延迟时间</p>\n<p>​\t交换机上存在 RP 和 AP，如果 RP 端口出现故障，无法再收到根桥的配置 BPDU，但是 AP 还能收到根桥的配置 BPDU，就会将 AP 变为 RP，端口角色发生变化，还需要等待 2 个转发延迟时间才能转发用户数据流量</p>\n</li>\n<li>\n<p>非直连故障：</p>\n<p>​\t交换机上存在 RP，但不存在 AP，但 RP 出现故障，无法收到根桥的配置 BPDU，那么交换机就无法从其他任何一个接口收到根桥的配置 BPDU，认为根桥故障，重新进行 STP 选举，往外发生以自己为根的配置 BPDU，其他设备 AP 口收到之后，和端口上保存的之前根桥发生的配置 BPDU 进行比较，发现次优，不会进行回应，等到端口上保存的更优的配置 BPDU，才会将从其他接口收到的根桥配置 BPDU，端口角色发生变化还需要等待 2 个转发延迟时间才能进行用户数据流量转发</p>\n</li>\n</ol>\n<h6 id=\"拓扑变更\"><a class=\"markdownIt-Anchor\" href=\"#拓扑变更\">#</a> 拓扑变更:</h6>\n<p>​\t问题：当网络发生故障后，虽然 STP 能够在 30s 或者 50s 完成收敛，但是由于交换机上还存在错误的 MAC 地址表项，所以用户终端还是无法进行通信</p>\n<p>​\t解决：</p>\n<ol>\n<li>故障交换机会向上游交换机发送 TCN BPDU，通知拓扑发送变更</li>\n<li>上游交换机收到 TCN BPDU 后，先进行 TCA 置位的配置 BPDU 进行回应，确认自己已经收到，下游交换机收到 TCA 后会停止发送 TCN BPDU，接着上游交换机还需要继续向根桥发送 TCN BPDU，传达到根桥之前重复改流程</li>\n<li>根桥收到 TCN BPDU 后，会将自己的 MAC 地址表项的老化时间刷新为 15s，然后向下游回应 TC 置位的配置 BPDU</li>\n<li>其他交换机收到 TC 置位的配置 BPDU 后，将自己的 MAC 地址表项的老化时间置为 15s，再进行配置 BPDU 的转发，让整个交换网络中的交换机进行 MAC 地址表项的刷新</li>\n</ol>\n<p>Smart-link</p>\n<p>smart-link group1 / 创建 SMART-link 组</p>\n<p>restore enable / 开启回切</p>\n<h5 id=\"以太网链路聚合\"><a class=\"markdownIt-Anchor\" href=\"#以太网链路聚合\">#</a> 以太网链路聚合</h5>\n<p>​\t背景：随着网络规模的不断发展，对网络的可靠性有以及带宽的要求也不断增大，可以通过升级 / 增加设备方式来提高可靠性和带宽，但是成本高，就产生了以太网链路聚合技术，使用现用的资源提高可靠性和带宽</p>\n<h6 id=\"链路聚合的作用\"><a class=\"markdownIt-Anchor\" href=\"#链路聚合的作用\">#</a> 链路聚合的作用：</h6>\n<p>​\t通过将多条物理属性相同的链路从逻辑上虚拟成一条链路，提高网络可靠性以及带宽</p>\n<h6 id=\"基本术语\"><a class=\"markdownIt-Anchor\" href=\"#基本术语\">#</a> 基本术语：</h6>\n<p>​\t聚合口：将多条链路加入到一个聚合口中，逻辑上虚拟成一条链路</p>\n<p>​\t成员链路：聚合口中的链路都是该聚合组的成员链路</p>\n<p>​\t活动链路：参与数据转发的链路</p>\n<p>​\t备份链路：不参与数据转发的链路，作为备份</p>\n<h6 id=\"聚合的前提条件\"><a class=\"markdownIt-Anchor\" href=\"#聚合的前提条件\">#</a> 聚合的前提条件：</h6>\n<ol>\n<li>链路聚合两端设备参与聚合的接口数量，流控方式，双工模式，速率等都需要一样</li>\n<li>一个聚合口最多允许 8 个成员链路</li>\n<li>聚合口不能在被聚合</li>\n<li>聚合口连接对端设备只能是一台设备，不能是多台设备</li>\n</ol>\n<h6 id=\"链路聚合模式\"><a class=\"markdownIt-Anchor\" href=\"#链路聚合模式\">#</a> 链路聚合模式：</h6>\n<p>​\t手工静态聚合：管理员手工将接口加入到聚合口中，所有成员接口都会参与数据的转发，无备份，也不需要交互协议报文</p>\n<p>​\t\t优点：1. 没有协议报文的交互，节省链路和设备资源</p>\n<p>​\t\t\t2. 所有接口都会参与数据的转发，接口资源利用率高</p>\n<p>​\t\t缺点：无法察觉对方的状态，只要物理层 UP 那么聚合口就能 UP</p>\n<p>​\tLACP 静态聚合：使用 LACP 协议，需要交互协议报文，可以配置备份链路，</p>\n<p>​\t\t工作过程：</p>\n<p>​\t\t1. 设备之间会通过成员链路发送 LACP 报文（LACPDU）, 其中携带用于选举的参数，比如系统优先级，端口号，MAC 地址，接口优先级</p>\n<p>​\t\t2. 收到对方的 LACP 报文后进行主动端的选举</p>\n<p>​\t\t\t①. 先比较系统优先级，默认 32768，范围 0-65535 ，以小为优</p>\n<p>​\t\t\t②再比较 MAC 地址，以小为优</p>\n<p>​\t\t3. 主动端选择完毕后，由主动端来进行活动端口的选举</p>\n<p>​\t\t\t①先比较接口优先级，默认 32768，范围 0-65535 ，以小为优</p>\n<p>​\t\t\t②再比较接口号，以小为优</p>\n<p>​\t\t4. 主动端选择完活动端口后，通过 LACP 报文通告给另一端，另一端根据主动端的选择将对应的接</p>\n<p>口置为活动端口</p>\n<h6 id=\"负载分担模式\"><a class=\"markdownIt-Anchor\" href=\"#负载分担模式\">#</a> 负载分担模式：</h6>\n<p>​\t\t数据包：单个数据包</p>\n<p>​\t\t数据流：一组具有相同属性的数据包的集合，比如对同一个 IP 地址的 ICMP Request 报文</p>\n<p>​\t\tICMP Requset 报文</p>\n<p>​\t\t逐包负载：</p>\n<p>​\t\t\t按照数据包个数依次再每根链路上按照权重进行轮询，因为实际情况下每根链路的状态都不一样，比如时延，容易导致数据包到达对端设备后出现乱序情况</p>\n<p>​\t\t逐流负载：</p>\n<p>​\t\t\t按照数据流依次再每根链路上按照权重进行轮询，因为一个数据流都走同一根链路进行传输，所以不会出现报文的乱序情况</p>\n<p>​\t\t\t分类依据：S.IP ，D.IP，协议类型，S.MAC，D.MAC 等等</p>\n<h5 id=\"华为交换机系列\"><a class=\"markdownIt-Anchor\" href=\"#华为交换机系列\">#</a> 华为交换机系列：</h5>\n<p>​\tS：园区网交换机</p>\n<p>​\tCE：数据中心交换机</p>\n<p>[huawei] interface Eth-Trunk1 / 创建聚合口</p>\n<p>[huawei-eth-Trunk1] mode manual load-balance / 指定链路聚合模式</p>\n<p>[huawei-eth-Trunk1] trunkport g0/0/1 to 0/0/3  / 加入成员接口</p>\n<p>[huawei] interface g0/0/1 / 方法二</p>\n<p>[lsw1-g1]eth-trunk 1</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/31/2022.10.31/",
            "url": "http://example.com/2022/10/31/2022.10.31/",
            "title": "HCIA(十一) 2020.10.31",
            "date_published": "2022-10-31T09:24:25.018Z",
            "content_html": "<h3 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h3>\n<h4 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h4>\n<p><mark><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9hdXRob3J2XzIyNTUwMTM4Mjg4Yy5hc3B4\">毛泽东</span>《<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9zaGl3ZW52XzlhZDNlNzAzMWY1Ni5hc3B4\">忆秦娥・娄山关</span>》</mark></p>\n<p><mark>西风烈，长空雁叫霜晨月。霜晨月，马蹄声碎，喇叭声咽。</mark><br>\n<mark>雄关漫道真如铁，而今迈步从头越。从头越，苍山如海，残阳如血。</mark></p>\n<h5 id=\"vlan间通信\"><a class=\"markdownIt-Anchor\" href=\"#vlan间通信\">#</a> VLAN 间通信：</h5>\n<p>​\t背景：划分完 VLAN 后，部分不同的 VLAN 之间有互访的需求，使用 hybrid 能够解决互访需求，但是，如果不同的 VLAN 使用不同的网段，hybrid 无法再满足需求。</p>\n<p>​\t解决方法：</p>\n<pre><code>1. 部署路由器\n2. 三层交换\n</code></pre>\n<p>1.<strong> 部署路由器</strong>：可以使用路由器的物理接口实现不同 VLAN 间的正常通信</p>\n<p>​\ta) 使用物理接口：每一个 VLAND 都需要对应一个物理接口，浪费接口</p>\n<p>​\tb）使用子接口（单臂路由）：使用一个路由器的物理接口逻辑虚拟成多个子接口，每个子接口对应一个 VLAN, 实现不同 VLAN 之间通信。</p>\n<p>2.<strong> 三层交换</strong>：在交换机上创建三层接口用于作为 VLAN 下主机的网关，给交换机开通路由功能，能够进行查表转发的动作</p>\n<h5 id=\"stp\"><a class=\"markdownIt-Anchor\" href=\"#stp\">#</a> STP：</h5>\n<p>​\t生成树协议</p>\n<p>​\t背景：在传统的二层网络中，容易出现单点故障，导致网络中的部分设备无法正常通信，此时如果部署冗余链路会导致出现<strong>广播风暴以及 MAC 地址漂移</strong></p>\n<h6 id=\"三层网络环路解决\"><a class=\"markdownIt-Anchor\" href=\"#三层网络环路解决\">#</a> 三层网络环路解决：</h6>\n<p>​\t\t通过 IP 头怒的 TTL 字段进行防环，当 TTL=0 时，不再进行转发操作。</p>\n<h6 id=\"二次网络环路解决\"><a class=\"markdownIt-Anchor\" href=\"#二次网络环路解决\">#</a> 二次网络环路解决：</h6>\n<p>​\t\t无法通过帧头中的某个字段进行防环，只能引入其他协议帮助</p>\n<p>​</p>\n<h6 id=\"名称解释\"><a class=\"markdownIt-Anchor\" href=\"#名称解释\">#</a> 名称解释：</h6>\n<p>​\tport ID (端口 ID)：由端口优先级和端口号组成，用于确定端口角色</p>\n<p>​\t\t端口优先级：默认 128</p>\n<p>​\t\t取值范围：0-255</p>\n<p>​\t\t步长：16</p>\n<p>​\tBID（桥 ID）: 由桥优先级和桥 MAC 两部分组成，用于选举根桥，优先比较优先级，相同时，比较 MAC 地址</p>\n<p>​\t\t桥优先级：默认 32768</p>\n<p>​\t\t取值范围：0-65535</p>\n<p>​\t\t步长（取 0 或者 4096 的整数倍）：4096</p>\n<p>​\tRoot (根桥)：在所有的交换机中选举出一台交换机作为根桥，基于根桥构建 STP 树</p>\n<p>​\tcost（开销）：链路或者接口的开销，不同的参考标准会使得相同的链路出现不同的 cost 值，建议将网络中的所有交换机的参考标准改为一致</p>\n<p>​\tRPC（根路径开销）：设备或者设备接口去往根桥的所有路径开销总和（入向接口的开销总和）</p>\n<p>​\tBPDU (网桥协议数据单元)：网络中的交换机通过交互 BPDU 来完成网络拓扑收敛，</p>\n<p>​\t\t配置 BPDU:</p>\n<p>​\t\t用于平时交互使用</p>\n<p>​\t\tTCN BPDU：</p>\n<p>​\t\t用于当拓扑发生改变后发送</p>\n<p>​\tBPDU 参数：</p>\n<p>​\t\tPID: 协议 ID</p>\n<p>​\t\tPVI: 版本 ID</p>\n<p>​\t\tBPDUtype：BPDU 类型，用于标识该 BPDU 是配置 BPDU 还是 TCN BPDU</p>\n<p>​\t\tFlags：标志位，共 8bit，只使用了最高 bit 位和最低 bit 位，最高位是表示位 TCA, 最低置位表示位 TC</p>\n<p>​\t\tRoot ID: 网络中根桥的桥 ID，初始状态下，网络中所有设备都认为自己是根桥</p>\n<p>​\t\tRPC: 根路径开销</p>\n<p>​\t\tBID：产生设备或者发送设备的桥 ID</p>\n<p>​\t\tPort ID: 产生设备或者发送设备的端口 ID</p>\n<p>​\t\tMassage Age：消息寿命，从根桥发送后，每经过一台网桥都会进行 + 1 操作，作用类似 TTL 值</p>\n<p>​\t\tMax age：最大生存时间，默认 20s</p>\n<p>​\t\tHello time ：发送 BPDU 的时间间隔，默认 2s</p>\n<p>​\t\tForward delay: 转发延迟时间，15s</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/28/2022.10.28/",
            "url": "http://example.com/2022/10/28/2022.10.28/",
            "title": "HCIA(十) 2020.10.28",
            "date_published": "2022-10-28T09:31:08.246Z",
            "content_html": "<h3 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h3>\n<h4 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h4>\n<p><mark>[白天的诗意和转瞬即逝的效果，多雾天气的哀愁，阳光的突然闪闪发亮，黑夜的静寂和魅力，黎明的神秘，每个烟囱飘起的轻烟，这个神奇的自然界里的种种偶然现象，都是我熟悉的，都能给我带来欢乐。]___[巴尔扎克《》]</mark></p>\n<h5 id=\"vlan\"><a class=\"markdownIt-Anchor\" href=\"#vlan\">#</a> VLAN：</h5>\n<p>​\t虚拟局域网</p>\n<p>​\t背景：网络中的 BUM 帧（广播帧，未知单播帧，组播帧）过多，交换机每接收到这些数据帧时，都需要进行泛洪处理，可能会影响正常的业务通信。</p>\n<p>​\t解决方式：</p>\n<pre><code>1. 部署路由\n2. VLAN\n</code></pre>\n<p>特点：</p>\n<ol>\n<li>不受地域限制，可以跨交换机部署</li>\n<li>只能与相同 VLAN 之间通信</li>\n</ol>\n<h6 id=\"vlan标志\"><a class=\"markdownIt-Anchor\" href=\"#vlan标志\">#</a> VLAN 标志：</h6>\n<p>​\t范围：0-4095     \t0 和 4095 保留，可用 1-4094</p>\n<p>​\t默认交换机所有接口数据 VLAN1</p>\n<p>​</p>\n<h6 id=\"8021q数据帧\"><a class=\"markdownIt-Anchor\" href=\"#8021q数据帧\">#</a> 802.1Q 数据帧：</h6>\n<p>​\t在原始的以太网 Ⅱ 帧新增 802.1Q 字段</p>\n<p>​\t帧格式：</p>\n<p>​\tD.MAC+S.MAC+802.1Q+TYPE+DATA+FCS</p>\n<p>​\t802.1Q 字段：</p>\n<p>​\t\tTPID: 为 0x8100 时，标识数据帧为 802.1Q 帧</p>\n<p>​\t\tVLAN ID：标识不同虚拟局域网</p>\n<h6 id=\"vlan的划分方式\"><a class=\"markdownIt-Anchor\" href=\"#vlan的划分方式\">#</a> VLAN 的划分方式：</h6>\n<pre><code>1. 基于交换机接口划分\n2. 基于MAC地址划分\n3. 基于子网划分\n4. 基于协议划分\n5. 基于策略划分\n</code></pre>\n<p>现网中一般采用基于交换机接口划分</p>\n<h5 id=\"交换机的接口类型\"><a class=\"markdownIt-Anchor\" href=\"#交换机的接口类型\">#</a> 交换机的接口类型：</h5>\n<ol>\n<li>\n<h6 id=\"access接入接口只允许一种vlan脱标签通过\"><a class=\"markdownIt-Anchor\" href=\"#access接入接口只允许一种vlan脱标签通过\">#</a> access (接入接口)：只允许一种 VLAN 脱标签通过</h6>\n<p>a）接收数据帧时</p>\n<p>​\ti. 接收到一个不带标签的数据帧时，打上接口 PVID 一致的标签值并接收</p>\n<p>​\tii. 接收到一个带标签的数据帧时，并且与接口的 PVID 一致，直接接收</p>\n<p>​\tiii. 接收到一个带标签的数据帧，并且数据帧中的标签值与接口 PVID 不一致，不接收</p>\n<p>b) 发送数据帧时</p>\n<p>​\ti. 发送的数据携带的标签值与接口处的 PVID 值一致，脱标签进行发送</p>\n<p>​\tii. 发送的数据帧携带的标签值与接口处的 PVID 值不一致，则不允许从该接口发出</p>\n</li>\n<li>\n<h6 id=\"trunk骨干接口允许多种vlan带标签通过和允许一种vlan不带标签通过\"><a class=\"markdownIt-Anchor\" href=\"#trunk骨干接口允许多种vlan带标签通过和允许一种vlan不带标签通过\">#</a> trunk（骨干接口）：允许多种 VLAN 带标签通过和允许一种 vlan 不带标签通过</h6>\n<p>a）接收数据帧时</p>\n<p>​\ti. 接收到一个不带标签的数据帧时，打上接口 PVID 一致的标签，查看允许通过列表，存在则接收，不存在则拒绝接收</p>\n<p>​\tii. 接收到一个带标签的数据帧，假设标签值是否存在允许通过列表，接收数据帧</p>\n<p>​\tiii. 接收到一个带标签的数据帧，假设标签值不在允许通过列表，拒绝接收</p>\n<p>b）发送数据帧时</p>\n<p>​\ti. 发送的数据帧标签值在允许通过列表中，并且标签值与接口 PVID 相同，进行脱标签转发</p>\n<p>​\tii. 发送的数据帧标签值在允许通过列表中，但是标签与接口 PVID 不一致，则进行带标签转发</p>\n<p>​\tiii. 发送的数据帧的标签值不允许通过列表中，拒绝该数据帧从该接口发出</p>\n</li>\n<li>\n<h6 id=\"hybrid混合接口允许多种vlan带标签通过和允许多种vlan不带标签通过\"><a class=\"markdownIt-Anchor\" href=\"#hybrid混合接口允许多种vlan带标签通过和允许多种vlan不带标签通过\">#</a> hybrid（混合接口）：允许多种 VLAN 带标签通过和允许多种 vlan 不带标签通过</h6>\n<p>a）接收数据帧时</p>\n<p>​\ti. 收到不带标签的数据帧时，打上接口 PVID 相同的标签，查看是否允许通过列表中，是则接收，不是则拒绝接收</p>\n<p>​\tii. 收到带标签的数据帧，查看标签假设在允许通过列表中，则接收</p>\n<p>​\tiii. 收到带标签的数据帧，查看标签，假设不再允许通过列表，则拒绝接收</p>\n<p>b）发送数据帧时</p>\n<p>​\ti. 发送数据帧的标签，在允许通过列表中，并且标签值与接口的 PVID，脱标签转发</p>\n<p>​\tii. 发送数据帧的标签，在允许通过列表中，并且标签值与接口 PVID 不一致，带标签转发</p>\n<p>​\tiii. 发送数据帧的标签，在允许不带标签通过列表，无论标签值是否与 PVID 一致，都会进行脱标签转发</p>\n<p>​\tiv. 发送的数据帧的标签，不存在允许通过列表和允许不带标签通过列表，拒绝从该接口发送数据帧</p>\n<p>配置命令</p>\n<p>[Huawei] vlan batch 10 20 // 创建 vlan</p>\n<p>[Huawei-GigabitEthernet0/0/1] port link-type access // 配置接口类型</p>\n<p>[Huawei-GigabitEthernet0/0/1] port default vlan 10  // 修改默认 PVID</p>\n<p>[Huawei-GigabitEthernet0/0/3] port link-type trunk  // 配置接口类型</p>\n<p>[Huawei-GigabitEthernet0/0/3] port trunk allow-pass vlan 10 20  // 配置允许通过的 vlan id</p>\n</li>\n</ol>\n<p>、</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/27/2022.10.27/",
            "url": "http://example.com/2022/10/27/2022.10.27/",
            "title": "HCIA(九) 2020.10.27",
            "date_published": "2022-10-27T09:36:48.470Z",
            "content_html": "<h3 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h3>\n<h4 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h4>\n<p><mark><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9hdXRob3J2XzA1NjM1Mjg2YmY2NC5hc3B4\">李煜</span>《<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9zaGl3ZW52XzA3YmUwZmIwZTdhNC5hc3B4\">浪淘沙令・帘外雨潺潺</span>》</mark></p>\n<p><mark>帘外雨潺潺，春意阑珊。罗衾不耐五更寒。梦里不知身是客，一晌贪欢。</mark><br>\n<mark>独自莫凭栏，无限江山。别时容易见时难。流水落花春去也，天上人间。</mark></p>\n<h5 id=\"dhcp\"><a class=\"markdownIt-Anchor\" href=\"#dhcp\">#</a> DHCP：</h5>\n<p>​\t动态主机配置协议</p>\n<p>​\t背景：网络当中存在大量的主机，静态配置 ip 地址等网络参数时，工作量大，并且容易出现 ip 地址冲突等网络错误，或者容易出现用户自己修改网络参数导致无法上网。</p>\n<p>​\t作用：为网络中的主机分配 IP 地址等参数，减少网络工程师的工作量，以及降低网络故障率。</p>\n<h6 id=\"报文\"><a class=\"markdownIt-Anchor\" href=\"#报文\">#</a> 报文：</h6>\n<p>​\tDHCP discover（发现报文）：用于发现网络中的 DHCP 服务器。</p>\n<p>​\tDHCP offer（提供报文）：用于为主机提供 ip 地址等网络参数</p>\n<p>​\tDHCP request（请求报文）：</p>\n<p>​\t1. 用于向服务器确认是否是自己的分配的参数</p>\n<p>​\t2. 告知网络中的其他 DHCP 服务器回收为自己分配的 ip 等参数</p>\n<p>​\tDHCP ACK (确认): 对 request 报文的确认</p>\n<p>​\tDHCP NAK（否认）: 对 request 报文的否认</p>\n<p>​\tDHCP RELEASE（释放）: 主机主动释放 ip 地址等</p>\n<h6 id=\"地址池\"><a class=\"markdownIt-Anchor\" href=\"#地址池\">#</a> 地址池：</h6>\n<p>​\t用于承载为主机分配的 IP 地址等</p>\n<p>​\t分类：接口地址池和全局地址池</p>\n<p>​\t接口地址池：ip 地址范围，于接口 ip 地址同一段的地址都会分配给主机使用</p>\n<p>​\t全局地址池：需要手工写地址范围</p>\n<h6 id=\"工作过程\"><a class=\"markdownIt-Anchor\" href=\"#工作过程\">#</a> 工作过程：</h6>\n<p>​\t1. 主机以广播形式发送 DHCP discover，用于寻找网络中的 DHCP 服务器</p>\n<p>​\t2.DHCP 服务器以单播发送 DHCP office 报文，为主机提供 IP 地址等参数</p>\n<p>​\t3. 主机以广播形式发送 DHCP request 报文，向服务器进行确认是否为自己分配的 IP 等参数，同时告知网络中其他 DHCP 服务器 自己使用的 ip，让他们进行回收为自己分配的参数</p>\n<p>​\t4. 服务器以单播发送 DHCP ACK 同意主机使用自己分配的 IP 等参数</p>\n<p>​</p>\n<h6 id=\"dhcp续租过程\"><a class=\"markdownIt-Anchor\" href=\"#dhcp续租过程\">#</a> DHCP 续租过程：</h6>\n<p>​\t1. 当主机的租期只剩 50% 时，会向原来的 DHCP 服务器以单播形式发送 DHCP request 报文，用于刷新租期</p>\n<p>​\t2. 如果服务器愿意续租，则回应 ACK 报文，将主机的 IP 地址租期重置。如果不愿意则回应 NAK，不进行刷新租期</p>\n<p>​\t3. 如果服务器由于网络或者自身原因没有收到，主机的 request，主机将继续使用原有的租期</p>\n<p>​\t4. 当主机的租期只剩 12.5%，会以广播的形式发送 request 报文，用于寻址网络中的所有 DHCP 服务器，用于重绑定。</p>\n<p>​\t5. 如果原来服务器回应 ACK，直接将地址刷新，如果回应 NAK，被动释放地址。或者等待租期结束后被动释放地址</p>\n<p>​\t6. 后续会周期发送 discover 报文寻找网络中的 DHCP 服务。</p>\n<p>int g0/0/0</p>\n<p>ip add 10.1.1.1 24</p>\n<p>ip pool huawe \t// 创建并进入地址池</p>\n<p>gateway-list 10.1.1.1 \t// 设置网关<br>\n network 10.1.1.0 mask 24\t // 宣告为主机分配的 IP 地址段<br>\n lease day 0 hour 0 minute 1 \t // 设置租期<br>\n dns-list 8.8.8.8 114.114.114.114  \t// 设置 dns 服务器</p>\n<p>[Huawei] dhcp enable \t// 在全局视图下使能 DHCP 服务</p>\n<p>[Huawei-GigabitEthernet0/0/0] dhcp select global  \t// 接口视图下使能 DHCP 全局模式</p>\n<p>dhcp select</p>\n<p>au s c</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/26/2022.10.26/",
            "url": "http://example.com/2022/10/26/2022.10.26/",
            "title": "HCIA(八) 2020.10.26",
            "date_published": "2022-10-26T09:42:24.238Z",
            "content_html": "<h3 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h3>\n<h4 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h4>\n<p><mark><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9hdXRob3J2X2I5MDY2MGUzZTQ5Mi5hc3B4\">李白</span>《<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9zaGl3ZW52X2MwM2RmOTYyMjI0NS5hc3B4\">游洞庭湖五首・其二</span>》</mark></p>\n<p><mark>南湖秋水夜无烟，耐可乘流直上天。</mark><br>\n<mark>且就洞庭赊月色，将船买酒白云边。</mark></p>\n<h5 id=\"ospf的工作原理工作过程\"><a class=\"markdownIt-Anchor\" href=\"#ospf的工作原理工作过程\">#</a> OSPF 的工作原理 / 工作过程:</h5>\n<p>​\t1. 运行 OSPF 协议的路由器互相发送 hello 报文用于发现，建立，维护邻居关系</p>\n<p>​\t\ta）DOWN：OSPF 的初始化状态，此状态下不会发送 hello 报文等</p>\n<p>​\t\tb）Attempt 状态：发送 hello 报文但是未接收到邻居发送的 hello， 此状态在广播网络中不存在，只存在于特殊网络类型</p>\n<p>​\t\tc）init：发送了 hello 报文，也收到了 hello 报文，但是，收到的 hello 报文的邻居列表中没有自己的 router id</p>\n<p>​\t\td) 2-way: 发送了 hello 报文，也收到了 hello 报文，在收到的 hello 报文中邻居列表有自己的 router id，此状态为邻居最高状态，标识已经建立完成邻居关系</p>\n<p>​\t2. 协商主从，交互 LSA，同步 LSDB</p>\n<p>​\t\ta) EXstart：互相发送空的 DD 报文，携带 router id 用于协商主从，router id 大的作为主设备，后续主设备发送任何消息从设备都需要进行确认。</p>\n<p>​\t\tb）Exchange：互相发送 DD 报文，用于描述本地 LSDB 得摘要信息。</p>\n<p>​\t\tc）loading：使用 LSR，LSU，LSACK 进行同步 LSDB，如果设备不需要向对方请求 LSA 可以直接跳过此状态</p>\n<p>​\t\td）Full：已经和邻居同步完成 LSDB，进入此状态，此状态为邻接关系最高状态</p>\n<p>​\t3. 基于 LSDB，使用 SPF 算法，以自己为根构建最短路径树，将去往每一个目的网段的最优路由进行加入到路由表</p>\n<h6 id=\"\"><a class=\"markdownIt-Anchor\" href=\"#\">#</a> </h6>\n<h5 id=\"ospf支持的网络类型\"><a class=\"markdownIt-Anchor\" href=\"#ospf支持的网络类型\">#</a> OSPF 支持的网络类型：</h5>\n<p>​\t广播：以太网环境默认网络类型就是广播网络，此网络类型设备能够与此网络中的所有设备建立邻居关系</p>\n<p>​\tNBMA (非广播多路访问网络)：需要特定的网络设备支持（FR：帧中继），此网络类型下设备能与网络中的所有设备建立邻居关系，但是并非是广播型网络</p>\n<p>​\tP2P（点到点）：此网络下的设备接口对端只存在一台设备，和该设备建立邻居不需要协商掩码</p>\n<p>​\tP2MP（点到多点）：此网络类型默认不存在，只能通过其他网络类型进行修改，设备只能和该网络中的部分设备建立邻居关系。</p>\n<h5 id=\"ospf的路由器角色\"><a class=\"markdownIt-Anchor\" href=\"#ospf的路由器角色\">#</a> OSPF 的路由器角色：</h5>\n<p>​\tDR (指定路由器)：和所有运行了 OSPF 的路由器建立邻接关系</p>\n<p>​\tBDR (备份指定路由器)：和所有运行了 OSPF 的路由器建立邻接关系</p>\n<p>​\tDRother (除 DR 和 BDR 以外的其他所有设备)：统称为 DRother，只会和 DR 和 BDR 之间建立邻接关系。</p>\n<h6 id=\"dr和bdr的作用\"><a class=\"markdownIt-Anchor\" href=\"#dr和bdr的作用\">#</a> DR 和 BDR 的作用：</h6>\n<ol>\n<li>\n<p>减少邻接关系数量</p>\n</li>\n<li>\n<p>减少相同的 LSA 泛洪</p>\n</li>\n<li>\n<p>减少链路资源浪费</p>\n</li>\n<li>\n<p>减少设备资源损耗</p>\n<p>DR 与 BDR 的选举规则：</p>\n<ol>\n<li>\n<p>比较优先级，以大为优 0-255</p>\n<p>​\ta）优先级为 0 的路由器不参与选举</p>\n<p>2. 当优先级一致时，比较 router id</p>\n<p>​\t  a）以大为优</p>\n<h6 id=\"dr和bdr的选举\"><a class=\"markdownIt-Anchor\" href=\"#dr和bdr的选举\">#</a> DR 和 BDR 的选举：</h6>\n</li>\n<li>\n<p>原来网络中存在 DR 和 BDR 设备：</p>\n<p>a） 新接入设备在收到网络中的 hello 报文后，查看发现 hello 报文中存在 DR 和 BDR 设备</p>\n<p>b） 无论设备的优先级是多少，都会将自己作为 DRother，和 DR,BDR 去建立邻接关系</p>\n</li>\n<li>\n<p>原来网络中不存在 DR 和 BDR 设备</p>\n<p>a）当设备接入网络时，监听网络中的 hello 报文，发现网络中不存在 DR 和 BDR 设备</p>\n<p>b）发送自己的 hello 报文进行选举</p>\n<p>c）网络中先选举 BDR 设备比较优先级和 router id</p>\n<p>d）将选举出来的 BDR 升级成为 DR 设备</p>\n<p>e）再从所有的 DRother 中选举一个 BDR 设备</p>\n</li>\n</ol>\n<p>DR 和 BDR 选举根据网段进行选举。</p>\n<h5 id=\"区域\"><a class=\"markdownIt-Anchor\" href=\"#区域\">#</a> 区域：</h5>\n<p>​\t使用 area id 去标识</p>\n<p>​\t骨干区域：area 0 区域，负责所有跨区域的流量转发</p>\n<p>​\t非骨干区域：非 area 0 区域，所有的非骨干区域都必须和骨干区域相连</p>\n<h5 id=\"ospf的防环机制\"><a class=\"markdownIt-Anchor\" href=\"#ospf的防环机制\">#</a> OSPF 的防环机制：</h5>\n<p>​\t域内防环：使用 SPF 算法构建最短路径树，天然无环</p>\n<p>​\t域间防环：所有的非骨干区域必须和骨干区域相连，非骨干区域之间通信必须经过骨干区域</p>\n</li>\n</ol>\n<p>排除命令：[Huwei] dis ospf error</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/25/2022.10.25/",
            "url": "http://example.com/2022/10/25/2022.10.25/",
            "title": "HCIA(七) 2020.10.25",
            "date_published": "2022-10-25T09:40:49.667Z",
            "content_html": "<h3 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h3>\n<h4 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h4>\n<p><mark>《壬辰生日儿侄诸孙有诗所言皆过记胸中所怀亦自作》</mark></p>\n<p><mark>——（北宋）苏轼</mark></p>\n<p><mark>生日今朝是，匆匆又一年。读书真已矣，闭目但茫然。</mark></p>\n<p><mark>下种言非妄，开花果定圆。驱羊旧有法，视后直须鞭。</mark></p>\n<h5 id=\"高级路由特性\"><a class=\"markdownIt-Anchor\" href=\"#高级路由特性\">#</a> 高级路由特性：</h5>\n<h6 id=\"路由递归\"><a class=\"markdownIt-Anchor\" href=\"#路由递归\">#</a> <strong>路由递归：</strong></h6>\n<p>​\t将去往目的网段的路由的下一跳写为非直连，当收到一个数据包去往目的，查看路由表，下一跳为非直连，此时进行递归，再次查找去往下一跳目的网段的路由，将数据包进行转发。</p>\n<p><img data-src=\"C:%5CUsers%5Cz.j.j%5CDesktop%5Chcia%E5%9F%B9%E8%AE%AD%5Cassets%5C1666663059178.png\" alt=\"1666663059178\"></p>\n<h6 id=\"等价路由\"><a class=\"markdownIt-Anchor\" href=\"#等价路由\">#</a> 等价路由：</h6>\n<p>​\t去往目的网络存在多个路径，他们的优先级和开销都一致，都进行了加表操作，此时路由表存在等价路由，去往目的网络的数据包会进行分流，按照链路的情况进行，在不同的链路上进行转发。</p>\n<h6 id=\"浮动路由\"><a class=\"markdownIt-Anchor\" href=\"#浮动路由\">#</a> 浮动路由：</h6>\n<p>​\t去往目的网络存在多个路径，他们的优先级或者开销不一致，则只会将最优的路由进行加表操作，当最优路由失效时，次优的路由就会进行加表操作，实现备份路由。</p>\n<h6 id=\"cidr\"><a class=\"markdownIt-Anchor\" href=\"#cidr\">#</a> CIDR：</h6>\n<p>​\t无类域间路由</p>\n<p>​\t不在按照有类的掩码进行网络划分或写路由，</p>\n<p>​\t原理 ：主机位向网络位借位的过程</p>\n<p>​\t将多个小网络合为一个大的网络，寻找不同的网络中相同的网络位。</p>\n<h6 id=\"汇总引发问题\"><a class=\"markdownIt-Anchor\" href=\"#汇总引发问题\">#</a> 汇总引发问题：</h6>\n<p>​\t路由汇总后，包含除了被汇总的路由之外，还有其他不需要被汇总的路由或自身没有的路由，如果其他路由器访问这些路由，则在此路由器上不能得到转发，若路由器上有缺省路由，则会按照缺省路由进行转发。导致数据不能正确到达目的，浪费链路资源</p>\n<p>​\t解决：</p>\n<p>​\t\t1、精确汇总：在包含所有需要被汇总的路由的前提下，尽量将汇总路由写精确（掩码尽量长）</p>\n<p>​\t\t2、黑洞路由：在路由器上写一条与汇总路由网段一致的路由，将出接口指向 null0 口，当数据包过来，未匹配明细路由而匹配中黑洞路由时，则将数据包丢至 null0 口不再进行转发。</p>\n<h5 id=\"ospf\"><a class=\"markdownIt-Anchor\" href=\"#ospf\">#</a> OSPF:</h5>\n<p>​\t开放式最短路径优先</p>\n<p>​\t背景：由于静态路由无法自适应网络发生变化，并且在大型网络中配置工作量大，后期维护麻烦。</p>\n<h6 id=\"动态路由协议分类\"><a class=\"markdownIt-Anchor\" href=\"#动态路由协议分类\">#</a> 动态路由协议分类：</h6>\n<p>AS (自治系统)：由同一家组织或者机构同一管理实施同一种策略的一组路由器的集合</p>\n<p>​\t1. 按工作区域划分</p>\n<p>​\ta) 内部网关路由协议（工作在 AS 内的路由协议）</p>\n<p>​\t\ti .OSPF: 开放式最短路径优先</p>\n<p>​\t\tii. ISIS: 中间系统到中间系统</p>\n<p>​\t\tiii：RIP: 已经淘汰</p>\n<p>​\tb) 外部网关路由协议</p>\n<p>​\t\ti. BGP: 外部网关路由协议</p>\n<p>​\t2. 按工作方式划分</p>\n<p>​\ta）距离矢量</p>\n<p>​\t\ti. RIP：已经淘汰</p>\n<p>​\t\tii.BGP: 增强型路径矢量路由协议</p>\n<p>​\tb）链路状态</p>\n<p>​\t\ti. OSPF: 开放式最短路径优先</p>\n<p>​\t\tii.ISIS: 中间系统到中间系统</p>\n<h6 id=\"lsa\"><a class=\"markdownIt-Anchor\" href=\"#lsa\">#</a> LSA:</h6>\n<p>​\t链路状态</p>\n<p>​\t包含路由器所有接口的 ip，开销，连接设备等等。</p>\n<h6 id=\"区域\"><a class=\"markdownIt-Anchor\" href=\"#区域\">#</a> 区域：</h6>\n<p>​\t用区域 ID 进行标识</p>\n<p>​\tArea ID：取值与 IP 地址格式一致</p>\n<p>​\t0.0.0.0-255.255.255.255</p>\n<h6 id=\"route-id\"><a class=\"markdownIt-Anchor\" href=\"#route-id\">#</a> Route-id：</h6>\n<p>​\t用于唯一标识一台运行 OSPF 协议的路由器</p>\n<p>​\t 格式与 IP 地址一致：尽量取 IP 地址为 route-id</p>\n<p>​\t获取方式：</p>\n<p>​\t获取到 router-id 后除非重启设备或者重启进程，否则 router-id 不会失效</p>\n<p>​\t\t手工配置：</p>\n<p>​\t\t1. 全局下配置的 router-id：</p>\n<p>​\t\t全局下配置的 router-id 后，如果进程未配置 router id 则直接使用全局下配置的</p>\n<p>​\t\t[Huawei]router id 1.1.1.1</p>\n<p>​\t\t2. 进程下配置 router-id：跟进程同时配置，只在进程下有效</p>\n<p>​\t\t[Huawei]ospf 1 router-id 1.1.1.1</p>\n<p>​\t\t自动获取：</p>\n<p>​\t\t1. 存在逻辑接口，则使用逻辑接口最大的 IP 地址作为 router id</p>\n<p>​\t\t2. 不存在逻辑接口，则使用物理接口最大的 ip 地址作为 router id</p>\n<p>​\t\t3. 注：实际为谁先起来用谁</p>\n<h6 id=\"开销\"><a class=\"markdownIt-Anchor\" href=\"#开销\">#</a> 开销：</h6>\n<p>​\tOSPF 使用开销作为度量值</p>\n<p>​\t每个接口都有独立的开销</p>\n<p>​\t开销的计算方式：</p>\n<p>​\t\t参考带宽 / 实际带宽 = 接口开销</p>\n<p>​\t\t开销最小为 1，当计算得到开销为小数（0.x）时取 1</p>\n<p>​\t路由的开销计算：</p>\n<p>​\t设备去往目的网络的入向接口开销总和</p>\n<p>​\t开销的修改方式：</p>\n<p>​\t\t1. 修改带宽参考值：直接对带宽参考值进行修改，但是会影响所有接口的开销，不推荐使用</p>\n<p>​\t\ta）命令：bandwidth-reference 10000000// 单位为 Mbits/s</p>\n<p>​\t\t2. 修改接口开销：由于每个接口都有一个独立的开销，可以直接对其进行修改，修改后不影响其他接口开销</p>\n<p>​\t\ta）命令: ospf cost 1000// 在接口视图下敲</p>\n<h6 id=\"ospf-报文\"><a class=\"markdownIt-Anchor\" href=\"#ospf-报文\">#</a> OSPF 报文：</h6>\n<p>​\t\thello 报文：用于发现，建立，维护邻居关系</p>\n<p>​\t\tDD 报文：用于描述本地 LSDB 的摘要信息</p>\n<p>​\t\tLSR 报文：用于请求自身所缺失的 LSA，请求的信息来源于 DD 报文内的摘要信息，只包含请求的 LSA 的摘要</p>\n<p>​\t\tLSU 报文：用于回应 LSR 的请求，将完整的 LSA 信息发送给对方。</p>\n<p>​\t\tLS Ack 报文：用于对收到的 LSU 报文进行确认，表示收到了 LSA 信息，包含 LSA 的摘要信息。</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/24/2022.10.24/",
            "url": "http://example.com/2022/10/24/2022.10.24/",
            "title": "HCIA(六) 2020.10.24",
            "date_published": "2022-10-24T11:53:37.292Z",
            "content_html": "<h3 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h3>\n<h4 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h4>\n<p><mark>一重山，两重山。山远天高烟水寒，相思枫叶丹。<br>\n菊花开，菊花残。塞雁高飞人未还，一帘风月闲。</mark></p>\n<p><mark>出自五代<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9hdXRob3J2XzA1NjM1Mjg2YmY2NC5hc3B4\">李煜</span>的《<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9zaGl3ZW52XzI2OTNkYTljZWQwMi5hc3B4\">长相思・一重山</span>》</mark></p>\n<p><mark>解释：一重又一重，重重叠叠的山啊。山远天高，烟云水气又冷又寒，可我的思念像火焰般的枫叶那样。</mark></p>\n<h5 id=\"arp\"><a class=\"markdownIt-Anchor\" href=\"#arp\">#</a> ARP:</h5>\n<p>​\t地址解析协议</p>\n<p>​\t作用：通过 ip 地址去解析对端 MAC 地址，完成数据帧的封装，ip 地址通过 DNS（域名解析服务）得到</p>\n<p>​\t分类：普通 ARP, 免费 ARP, 代理 ARP, 逆向 ARP</p>\n<h6 id=\"普通arp过程\"><a class=\"markdownIt-Anchor\" href=\"#普通arp过程\">#</a> 普通 ARP 过程：</h6>\n<p>​\tPC1&lt;----------------&gt;PC2</p>\n<p>​\t1.PC1 需要和 PC2 进行通信，ip 地址通过 DNS 解析得到，完成网络层封装，需要进行数据链路层封装，没有对端 MAC 地址</p>\n<p>​\t2.PC1 发送 ARP 请求报文，源 ip 地址为 PC1，源 MAC 地址为 PC1，目的 ip 地址为 PC2，目的 MAC 地址为广播（保证对端能够收到并处理）</p>\n<p>​\t3.PC2 收到 PC1 发送的请求报文，查看目的 MAC 地址为广播，需要自己处理，解封装网络层，为 ARP 协议，目的 ip 地址为自己的 ip 地址，需要自己处理</p>\n<p>​\t4.PC2 朝 PC1 回应 ARP 响应报文，将 PC1 的 IP 地址 MAC 地址封装为数据的目的，将自身的 ip 地址，MAC 地址封装为源地址。</p>\n<p>​\t5.PC1 收到 PC2 的响应报文后，将 PC2 的 ip 地址与 MAC 地址形成对应表项加入 ARP 缓存表中，后续通信过程直接将 PC2 的 IP 地址 MAC 地址封装为目的地址</p>\n<h6 id=\"代理arp\"><a class=\"markdownIt-Anchor\" href=\"#代理arp\">#</a> 代理 ARP：</h6>\n<p>​\t\tPC1&lt;------------&gt;(1)AR1(2)&lt;---------------------&gt;PC2</p>\n<p>​\t场景说明：PC1 与 PC2 属于同一网段，AR1 的 1 口和 2 口属于不同网段，（实现使用掩码不同即可）</p>\n<p>​\t过程：</p>\n<p>​\t接口内 arp-proxy enable // 在接口视图下开启代理 ARP 功能</p>\n<p>​\t1.PC1 需要和 PC2 进行通信，需要获取 PC2 的 MAC 地址，由于 PC1 与 PC2 处于同一网段，会直接向 ip 为 PC2 的地址发送 ARP 请求，用于获取 PC2 的 MAC 地址</p>\n<p>​\t2. 数据帧被路由器所接收，查看目的 MAC 地址，为广播处理，查看 IP 地址为 PC2 的地址与接口属于不同网段，此时接口开启代理 ARP，路由器会将 1 口的 MAC 地址发送给 PC1，欺骗 PC1 自己的接口 MAC 地址就是 PC2 的 MAC 地址，</p>\n<p>​\t3.PC 收到后认为路由器 1 口的 MAC 地址为 PC2 的，后续封装数据帧时将路由器 1 口的 MAC 地址封装为目的 MAC 地址，</p>\n<p>​\t4. 数据转发过程，路由器 1 口收到目的 MAC 地址为自己的 MAC 时继续解封装，目的 IP 不是自己的时，根据 ARP 表项进行转发操作</p>\n<h6 id=\"逆向arprarp\"><a class=\"markdownIt-Anchor\" href=\"#逆向arprarp\">#</a> 逆向 ARP (RARP)：</h6>\n<p>​\t使用目的 MAC 地址请求目的 IP 地址</p>\n<h6 id=\"免费arp\"><a class=\"markdownIt-Anchor\" href=\"#免费arp\">#</a> 免费 ARP:</h6>\n<p>​\t用于检测地址是否冲突</p>\n<p>​\t原理：去请求自身 ip 地址的 MAC 地址，若收到回应，则认为 IP 地址冲突。</p>\n<h5 id=\"ip路由\"><a class=\"markdownIt-Anchor\" href=\"#ip路由\">#</a> IP 路由：</h5>\n<p>​\t不同网段需要进行通信，在二层网络中无法满足，需要进行跨二层网络进行转发数据。</p>\n<h6 id=\"路由名词和动词\"><a class=\"markdownIt-Anchor\" href=\"#路由名词和动词\">#</a> 路由名词和动词：</h6>\n<p>​\t名词：路由表中的一条路由信息</p>\n<p>​\t动词：报文达到网络设备后需要转发进行查表得动作。</p>\n<h6 id=\"路由表六要素\"><a class=\"markdownIt-Anchor\" href=\"#路由表六要素\">#</a> 路由表六要素：</h6>\n<p>​\t目的网络 + 掩码：用来标识目的网段信息</p>\n<p>​\t协议：用来标识这条路由通过何种方式得来</p>\n<p>​\t\t直连：当路由器接口配置好 ip 和接口状态为 up 时，直接生成</p>\n<p>​\t\t静态：通过管理员进行手工配置得来</p>\n<p>​\t\t动态：通过路由协议进行学习路由</p>\n<p>​\t优先级：标识路由的优先级，取值 0-255，以小为优</p>\n<p>​\t\t直连：优先级为 0，最优，并且不允许修改</p>\n<p>​\t\t静态：默认优先级 60 ，可以进行修改</p>\n<p>​\t\t动态：优先级根据不同的路由协议有不同的值</p>\n<p>​\t开销：去往目的网络的开销总和</p>\n<p>​\t出接口：去往目的网段的出接口</p>\n<p>​\t下一跳：出接口对端设备的接口 ip 地址</p>\n<h6 id=\"路由表加表原则\"><a class=\"markdownIt-Anchor\" href=\"#路由表加表原则\">#</a> 路由表加表原则：</h6>\n<p>​\t当收到两条去往同一目的网段的路由时，先比较优先级，优先级以小为优，将优先级小的加入路由表，如果优先级相同，比较开销，优先选择开销小的加入路由表。</p>\n<h6 id=\"路由最长匹配原则\"><a class=\"markdownIt-Anchor\" href=\"#路由最长匹配原则\">#</a> 路由最长匹配原则：</h6>\n<p>​\t当收到一个数据包时，将数据包中的目的 IP 地址与路由表中的路由进行匹配，再从匹配中的路由中选择最大掩码的路由对数据包进行指导转发操作。</p>\n<h6 id=\"路由器转发数据流程\"><a class=\"markdownIt-Anchor\" href=\"#路由器转发数据流程\">#</a> 路由器转发数据流程：</h6>\n<p>​\t路径上的每一台路由器进行逐条查表转发操作，意味者路径上的每一台路由器都需要有目的网段的路由信息。</p>\n<h6 id=\"静态路由\"><a class=\"markdownIt-Anchor\" href=\"#静态路由\">#</a> 静态路由：</h6>\n<p>​\t通过管理员手工配置得到</p>\n<p>​\t优点：配置较为简单，适用于小型且稳定的企业</p>\n<p>​\t缺点：无法自适应网络拓扑变化，维护麻烦</p>\n<p>​\t配置命令：ip route-static 10.1.1.0 24 10.1.1.2  // 目的网段 + 掩码或掩码长度 + 匹配下一跳将数据包进行转发出去</p>\n<h6 id=\"缺省路由\"><a class=\"markdownIt-Anchor\" href=\"#缺省路由\">#</a> 缺省路由：</h6>\n<p>​\t是一种特殊路由，网段为全 0 掩码长度也为 0，能够匹配所有主机 ip 地址。</p>\n<p>​\t\tip route-static 0.0.0.0 0 10.1.1.2</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/21/2022.10.21/",
            "url": "http://example.com/2022/10/21/2022.10.21/",
            "title": "HCIA(五) 2020.10.21",
            "date_published": "2022-10-21T07:59:34.443Z",
            "content_html": "<h3 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h3>\n<h4 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h4>\n<p><mark><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9hdXRob3J2XzQ1YmRiZjNmMjI2OC5hc3B4\">黄巢</span>《<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5ndXNoaXdlbi5jbi9zaGl3ZW52XzMyYmZhOTc1N2M2Mi5hc3B4\">不第后赋菊</span>》</mark></p>\n<p><mark>待到秋来九月八，我花开后百花杀。</mark><br>\n<mark>冲天香阵透长安，满城尽带黄金甲。</mark></p>\n<h5 id=\"传输层\"><a class=\"markdownIt-Anchor\" href=\"#传输层\">#</a> 传输层：</h5>\n<p>​\t用于建立端到端的连接</p>\n<p>​\t再应用层数据前加上端头，数据称为数据段</p>\n<h6 id=\"tcp\"><a class=\"markdownIt-Anchor\" href=\"#tcp\">#</a> TCP：</h6>\n<p>​\t\t面向连接的安全可靠的传输层协议，</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Source port (16)</th>\n<th style=\"text-align:center\">Destinationport(16)</th>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">Sequencenumber(32)</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Acknowledgement number (32)</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Header length (4)</td>\n<td style=\"text-align:center\">Reserved (6)</td>\n<td style=\"text-align:center\">Control bits (6)</td>\n<td style=\"text-align:center\">Window (16)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Checksum (16)</td>\n<td style=\"text-align:center\">Urgent (16)</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Options</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Data (varies)</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>\n<p>​\t\tTCP 头部参数：</p>\n<p>​\t\t\t源端口号（Source port ）：用于标识发送者产生此数据的应用</p>\n<p>​\t\t\t目的端口号（ Destination   port  ）：用于标识接收者最终交由的应用的那个用于进行处理</p>\n<p>​\t\t\t序列号（Sequence number ）：标识发送者发送的第几个数据段</p>\n<p>​\t\t\t确认序列号（Acknowledgement number）：用于接收者确认收到发送者发送的数据段</p>\n<p>​\t\t\t头部长度（Header length）：用于标识 TCP 的头部长度，因为 TCP 的头部中存在 option（可选项）为不定长</p>\n<p>​\t\t\t保留位（Reserved）：无意义，全为 0</p>\n<p>​\t\t\t控制位（Control bits  ）：用于特殊的作用</p>\n<p>​\t\t\t\tSYN：请求建立连接位</p>\n<p>​\t\t\t\tACK：确认位</p>\n<p>​\t\t\t\tFIN：请求断开连接位</p>\n<p>​\t\t\t\tR：请求重新建立 TCP 连接</p>\n<p>​\t\t\t\tU：紧急指针位</p>\n<p>​\t\t\t窗口（Window ）：用于标识接收者最大能够接收缓存的数据单位</p>\n<p>​\t\t\t校验和（  Checksum ）：检验数据段的完整性</p>\n<p>​\t\t\t紧急指针位（ Urgent  ）：用于表示该数据需要紧急交由应用层协议进行处理，需要配合控制中的 U 位使用。</p>\n<p>​\t\t\t可选项（ Options    ）：用于携带一些可选参数，例如认证</p>\n<p>​\t\t\t数据（Data (varies)   ）：应用层产生的数据</p>\n<h6 id=\"udp头部参数\"><a class=\"markdownIt-Anchor\" href=\"#udp头部参数\">#</a> UDP 头部参数：</h6>\n<p>​\t\t\t源端口号（Source port ）：用于标识发送者产生此数据的应用</p>\n<p>​\t\t\t目的端口号（ Destination   port  ）：用于标识接收者最终交由的应用的那个用于进行处理</p>\n<p>​\t\t\t长度（Length）：标识数据段的长度</p>\n<p>​\t\t\t校验和（  Checksum ）：检验数据段的完整性</p>\n<p>​\t\t\t数据（Data（if any））：应用层产生的数据</p>\n<h6 id=\"端口号\"><a class=\"markdownIt-Anchor\" href=\"#端口号\">#</a> 端口号：</h6>\n<p>​\t\t\t用于标识应用层协议</p>\n<p>​\t\t\t端口号范围：0-65535</p>\n<p>​\t\t\t分为知名端口号和非知名端口号</p>\n<p>​\t\t\t知名端口号：一般被知名的应用层协议所使用</p>\n<p>​\t\t\t\t范围：0-1023</p>\n<p>​\t\t\t例如：HTTP：80</p>\n<p>​\t\t\t\tHTTPS：443</p>\n<p>​\t\t\t非知名端口号：可以个人使用，未被分配</p>\n<p>​\t\t\t范围：1024 及以上都是</p>\n<p>​</p>\n<h6 id=\"tcp三次握手\"><a class=\"markdownIt-Anchor\" href=\"#tcp三次握手\">#</a> TCP 三次握手:</h6>\n<p>​\t\tSYN (用于请求建立 TCP 连接)</p>\n<p>​\t\t\tPC1&lt;-----------&gt;PC2</p>\n<p>​\t1.PC1 发送 SYN 置位的 TCP 报文，用于请求和 PC2 建立 TCP 连接，序列号 a (随机生成的)，确认序列号为 0（PC2 在此之前没有收到过 PC2 的数据)</p>\n<p>​\t2.PC2 向 PC1 回应一个 SYN 和 ACK (确认 PC1 发送的 SYN 请求）置位的 TCP 报文，序列号 b（随机产生的)，确认序列号位 a+1 (1, 确认收到了 PC1 发的序列号为 a 的数据包，2 要求 PC1 下次发送数据包的序列号为 a+1)</p>\n<p>​\t3.PC1 向 PC2 发送 ACK 置位的 TCP 报文，序列号 a+1，确认序列号为 b+1</p>\n<p><img data-src=\"C:%5CUsers%5Cz.j.j%5CDesktop%5Chcia%E5%9F%B9%E8%AE%AD%5Cassets%5C1666342138024.png\" alt=\"1666342138024\"></p>\n<h6 id=\"序列号和确认序列号\"><a class=\"markdownIt-Anchor\" href=\"#序列号和确认序列号\">#</a> 序列号和确认序列号：</h6>\n<p>​\t用于保证数据传递的有序性和可靠性</p>\n<p>​\t采用序列号 + 1 或者 + 数据长度的方式保证数据 包传递的有序性</p>\n<p>​\t采用确认序列号对对方数据包中序列号 + 1 的方式保证数据包传递的可靠性</p>\n<p><img data-src=\"C:%5CUsers%5Cz.j.j%5CDesktop%5Chcia%E5%9F%B9%E8%AE%AD%5Cassets%5C1666342174148.png\" alt=\"1666342174148\"></p>\n<h6 id=\"tcp滑动窗口\"><a class=\"markdownIt-Anchor\" href=\"#tcp滑动窗口\">#</a> TCP 滑动窗口：</h6>\n<p>​\t再两台主机建立 TCP 连接时，会将自己的窗口大小告知对方，等到 TCP 连接建立完成后，知道对方窗口大小，一次性传输的数据不会超过对方的窗口大小，当窗口被占用时，主机会将 TCP 报文中的窗口位降低，告知对方最大还允许发送的数据，当主机处理完一部分数据后，将窗口进行释放，同时也会将新的窗口大小通知对方</p>\n<p><img data-src=\"C:%5CUsers%5Cz.j.j%5CDesktop%5Chcia%E5%9F%B9%E8%AE%AD%5Cassets%5C1666342195965.png\" alt=\"1666342195965\"></p>\n<h6 id=\"tcp重传机制\"><a class=\"markdownIt-Anchor\" href=\"#tcp重传机制\">#</a> TCP 重传机制：</h6>\n<p>​\tPC1&lt;---------------&gt;PC2</p>\n<p>​\t1. 当 PC1 收到 PC2 发送的数据时，中间缺失某个序列号的数据</p>\n<p>​\t2. 那么 PC1 只会对缺失的数据前有序的流量进行确认，后续到达的数据不进行确认</p>\n<p>​\t3.PC2 收到 PC1 发送的确认报文后，发送只对前面发送的数据进行了确认，启动重传，对后续未确认的数据进行重传</p>\n<h6 id=\"tcp四次挥手\"><a class=\"markdownIt-Anchor\" href=\"#tcp四次挥手\">#</a> TCP 四次挥手：</h6>\n<p>​\tPC1&lt;---------------&gt;PC2</p>\n<p>​\t1.PC1 请求断开 TCP 连接，发送 FIN（请求断开 TCP 连接）,ACK (确认位) 置位的 TCP 报文，用于请求断开 TCP 连接，序列号 a，确认序列号 b‘</p>\n<p>​\t2.PC2 回应 ACK 置位的 TCP 报文，用于确认和 PC1 断开单项的 TCP 连接，序列号 b，确认序列号 a+1</p>\n<p>​\t3.PC 发送 FIN（请求断开 TCP 连接）,ACK (确认位) 置位的 TCP 报文，用于请求断开 TCP 连接，序列号 b，确认序列号 a+1</p>\n<p>​\t4.PC1 回应 ACK 置位的 TCP 报文，用于确认和 PC2 断开 TCP 单向连接，序列号 a+1，确认序列号 b+1</p>\n<p><img data-src=\"C:%5CUsers%5Cz.j.j%5CDesktop%5Chcia%E5%9F%B9%E8%AE%AD%5Cassets%5C1666342213886.png\" alt=\"1666342213886\"></p>\n<h6 id=\"tcp应用场景\"><a class=\"markdownIt-Anchor\" href=\"#tcp应用场景\">#</a> TCP 应用场景：</h6>\n<p>​\t对于安全性，可靠性要求比较高的流量可以使用 TCP 进行发送</p>\n<h6 id=\"udp特点\"><a class=\"markdownIt-Anchor\" href=\"#udp特点\">#</a> UDP 特点：</h6>\n<p>​\t1. 头部短   2. 面向无连接</p>\n<h6 id=\"udp应用场景\"><a class=\"markdownIt-Anchor\" href=\"#udp应用场景\">#</a> UDP 应用场景：</h6>\n<p>​\t对于安全性要求不高，但是数据比较大</p>\n<p>​\t\t1. 视频流量</p>\n<p>​\t\t2. 电话流量</p>\n<p>​\t\t3. 游戏流量</p>\n<h6 id=\"tcp-于udp的对比\"><a class=\"markdownIt-Anchor\" href=\"#tcp-于udp的对比\">#</a> TCP 于 UDP 的对比：</h6>\n<p>​\t1.TCP 安全可靠：三次握手，四次挥手，滑动窗口，重传机制，序列号，确认序列号。</p>\n<p>​\t2.UDP 面向无连接，安全必须通过其他层次协议进行保证 。</p>\n<h5 id=\"应用层\"><a class=\"markdownIt-Anchor\" href=\"#应用层\">#</a> 应用层：</h5>\n<p>​\t数据称之为 PDU, 协议数据单元</p>\n<p>​\tHTTP: 简单文本传输协议，端口号 80</p>\n<p>​\tHTTPS：超文本传输协议，端口号 443</p>\n<p>​\tFTP：文件传输协议， 端口号 20/21</p>\n<p>​\tSSH：安全外壳协议，端口号 22</p>\n<p>​\tTelent ：远程登录管理协议， 端口号 23</p>\n<p>​</p>\n<h5 id=\"数据封装\"><a class=\"markdownIt-Anchor\" href=\"#数据封装\">#</a> 数据封装：</h5>\n<p>​\t1. 应用层产生数据，始称 PDU，协议数据单元</p>\n<p>​\t2. 应用层 将数据交由传输层进行处理</p>\n<p>​\t3. 传输层再 PDU 前加上端头，包含端口号，数据称之为数据段</p>\n<p>​\t4. 传输层将数据交由网络层进行处理</p>\n<p>​\t5. 网络层在数据段前加上 IP 头，包含 IP 地址，数据称之为数据包</p>\n<p>​\t6. 网络层将数据交由数据链路层 处理</p>\n<p>​\t7. 数据链路层在数据包前加上帧头，在数据包后加上帧尾，包含 MAC 地址，数据称之为数据帧</p>\n<p>​\t8. 数据链路层将数据交由物理层进行处理</p>\n<p>​\t9. 物理层将数据转化为比特流转发出去</p>\n<p><img data-src=\"C:%5CUsers%5Cz.j.j%5CDesktop%5Chcia%E5%9F%B9%E8%AE%AD%5Cassets%5C1666342313686.png\" alt=\"1666342313686\"></p>\n<h5 id=\"数据解封装\"><a class=\"markdownIt-Anchor\" href=\"#数据解封装\">#</a> 数据解封装：</h5>\n<p>​\t1. 物理层收到一个比特流，将比特流转化为数据帧交由数据链路层进行处理</p>\n<p>​\t2. 数据链路层收到数据帧后，</p>\n<p>​\t\ta）查看尾校验是否通过，通过则进行下一步，不通过则直接丢弃</p>\n<p>​\t\tb）查看帧头目的 MAC 地址是否单播，组播，广播</p>\n<p>​\t\tc）为单播时，是否为自身 MAC 地址，是接收处理，交由网络层，不是直接丢弃</p>\n<p>​\t\td）为组播时，是否为自身所在组的 MAC 地址，是则接收处理，交由网络层，不是丢弃</p>\n<p>​\t\te）为广播时，直接处理，交由网络层</p>\n<p>​\t3，网络层收到数据包，</p>\n<p>​\t\ta）查看头部校验和，检验数据包完整性，通过则进行下一步，不通过直接丢弃</p>\n<p>​\t\tb）查看 IP 头部中的目的 IP 地址，为单播，组播，广播</p>\n<p>​\t\tc）为单播时，判断是否为自身的 IP 地址，时则直接交由传输层，不是，判断自身是否为主机或者路由器等三层设备</p>\n<p>​\t\t\ti  . 为主机时，直接丢弃</p>\n<p>​\t\t\tii  . 为路由器等设备时，按照路由表进行转发</p>\n<p>​\t\td）为组播时，判断是否自身所在 IP 地址，是则交由传输层，不是则丢弃</p>\n<p>​\t\te）为广播时，直接交由传输层处理</p>\n<p>​\t4. 传输层收到数据段，查看端口中的目的端口号，直接将数据交由对于的应用层协议进行处理</p>\n<p>​\t5. 应用层，对数据进行处理，并且对源进行回应</p>\n<p><img data-src=\"C:%5CUsers%5Cz.j.j%5CDesktop%5Chcia%E5%9F%B9%E8%AE%AD%5Cassets%5C1666342286304.png\" alt=\"1666342286304\"></p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/21/2022.10.20/",
            "url": "http://example.com/2022/10/21/2022.10.20/",
            "title": "HCIA(四) 2020.10.20",
            "date_published": "2022-10-21T07:59:32.988Z",
            "content_html": "<h3 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h3>\n<h4 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h4>\n<p><mark>人生天地之间，若白驹过隙，忽然而已。</mark></p>\n<p><Huawei>    // 用户视图</p>\n<p><Huawei>system-view  // 进入系统视图</p>\n<p>[Huawei]   // 系统视图</p>\n<p>[Huawei] interface  GigabitEthernet 0/0/0  // 进入接口视图</p>\n<p>[Huawei-GigabitEthernet0/0/0]      // 接口视图</p>\n<p>[Huawei-GigabitEthernet0/0/0]ip address 192.168.1.1 24</p>\n<p>// 为 G0/0/0 口配置 IP 地址，ip 为 192.168.1.1  /24</p>\n<p>[Huawei-GigabitEthernet0/0/0]display this</p>\n<p>// 查询在此位置的配置信息</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/19/2022.10.19/",
            "url": "http://example.com/2022/10/19/2022.10.19/",
            "title": "HCIA(三) 2020.10.19",
            "date_published": "2022-10-19T10:31:39.256Z",
            "content_html": "<h3 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h3>\n<h4 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h4>\n<p><mark>路漫漫其修远兮，吾将上下而求索</mark></p>\n<h5 id=\"span-stylecolorred有类ip地址span\"><a class=\"markdownIt-Anchor\" href=\"#span-stylecolorred有类ip地址span\">#</a> <span style=\"color:red\">有类 IP 地址：</span></h5>\n<p>A 类：0.0.0.0-127.255.255.255\t/8                                          0</p>\n<p>B 类：128.0.0.0-191.255.255.255\t/16                                   10</p>\n<p>C 类：192.0.0.0-223.255.255.255\t/24                           \t110</p>\n<p>D 类：224.0.0.0-239.255.255.255 \t用于组播\t\t\t1110</p>\n<p>E 类：240.0.0.0-255.255.255.255 \t保留\t\t\t\t1111</p>\n<h5 id=\"span-stylecolorred网络地址span\"><a class=\"markdownIt-Anchor\" href=\"#span-stylecolorred网络地址span\">#</a> <span style=\"color:red\">网络地址：</span></h5>\n<p>用于标识一个网络，主机位全为 0</p>\n<p>例如：192.168.1.0/24</p>\n<h5 id=\"span-stylecolorred广播地址span\"><a class=\"markdownIt-Anchor\" href=\"#span-stylecolorred广播地址span\">#</a> <span style=\"color:red\">广播地址：</span></h5>\n<p>用于代表网络中的所有主机，主机位全为 1，朝广播地址发送数据包时，所有的主机都要接收并处理</p>\n<p>例如：192.168.1.255/24</p>\n<p>可用地址数：</p>\n<p>一个网段中可以分配主机使用的 IP 地址</p>\n<p>​\t数量 = 2<sup>n</sup>-2  //n 等于主机位数</p>\n<h5 id=\"span-stylecolorred公网地址span\"><a class=\"markdownIt-Anchor\" href=\"#span-stylecolorred公网地址span\">#</a> <span style=\"color:red\">公网地址：</span></h5>\n<p>由 IANA 组织，分配给运营商使用，企业一般去运营商租用公网 IP 地址。</p>\n<h5 id=\"span-stylecolorred私网地址span\"><a class=\"markdownIt-Anchor\" href=\"#span-stylecolorred私网地址span\">#</a> <span style=\"color:red\">私网地址：</span></h5>\n<p>在企业中某些设备不需要连接 Internet，可以使用私网地址，只要在一个网络中不重复即可，在 A，B，C 类中都有一段私网地址</p>\n<p>A 类：10.0.0.0–10.255.255.255</p>\n<p>B 类：172.16.0.0–172.31.255.255</p>\n<p>C 类：192.168.0.0–192.168.255.255</p>\n<h5 id=\"span-stylecolorred特殊地址span\"><a class=\"markdownIt-Anchor\" href=\"#span-stylecolorred特殊地址span\">#</a> <span style=\"color:red\">特殊地址：</span></h5>\n<h6 id=\"有限广播\"><a class=\"markdownIt-Anchor\" href=\"#有限广播\">#</a> 有限广播</h6>\n<p>255.255.255.255   作为目的时，同一网络中的所有主机都能收到该报文，并需要进行处理</p>\n<h6 id=\"任意地址\"><a class=\"markdownIt-Anchor\" href=\"#任意地址\">#</a> 任意地址</h6>\n<p>0.0.0.0 可以用此地址代表所有的 IP 地址</p>\n<h6 id=\"环回地址\"><a class=\"markdownIt-Anchor\" href=\"#环回地址\">#</a> 环回地址</h6>\n<p>127.0.0.0 -127.255.255.255 用于测试自身的状态</p>\n<h6 id=\"本路链路地址\"><a class=\"markdownIt-Anchor\" href=\"#本路链路地址\">#</a> 本路链路地址</h6>\n<p>169.254.0.0/24 用于当自动获取地址失败后，临时链路通信</p>\n<h5 id=\"span-stylecolorredvlsmspan\"><a class=\"markdownIt-Anchor\" href=\"#span-stylecolorredvlsmspan\">#</a> <span style=\"color:red\">VLSM:</span></h5>\n<p>可变长子网掩码</p>\n<p>​\t原理：网络位向主机位借位</p>\n<p>​\t作用：减少广播域，减少同一网络中的主机数量</p>\n<p>​\t划分方式：</p>\n<p>​\t\t1. 按照主机数量进行划分</p>\n<p>​\t\t\ta) 按照从大到小的主机数量进行计算</p>\n<p>​\t\t2. 按照子网数量进行划分</p>\n<h5 id=\"icmp\"><a class=\"markdownIt-Anchor\" href=\"#icmp\">#</a> ICMP：</h5>\n<p>互联网控制消息协议，工作在网络层，协议号为 1</p>\n<h6 id=\"作用\"><a class=\"markdownIt-Anchor\" href=\"#作用\">#</a> 作用：</h6>\n<p>用于传递网络设备之间的差错和控制信息，收集网络信息，排错和诊断。</p>\n<h6 id=\"主要的应用\"><a class=\"markdownIt-Anchor\" href=\"#主要的应用\">#</a> 主要的应用：</h6>\n<p>​\tping 和 tracert</p>\n<p>​\tPing 作用：检测网络连通性</p>\n<p>​\tTracert 作用：用于回显路由</p>\n<h6 id=\"报文格式\"><a class=\"markdownIt-Anchor\" href=\"#报文格式\">#</a> 报文格式：</h6>\n<p>Type + code +checksum + 报文内容</p>\n<p>Type：消息类型</p>\n<p>code：具体参数</p>\n<p>校验和：用于检验数据完整性</p>\n<p>报文内容：包含具体的信息</p>\n<table>\n<thead>\n<tr>\n<th><strong>Type</strong></th>\n<th><strong>Code</strong></th>\n<th><strong>描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>0</td>\n<td>Echo   Reply</td>\n</tr>\n<tr>\n<td>3</td>\n<td>0</td>\n<td>网络不可达</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1</td>\n<td>主机不可达</td>\n</tr>\n<tr>\n<td>3</td>\n<td>2</td>\n<td>协议不可达</td>\n</tr>\n<tr>\n<td>3</td>\n<td>3</td>\n<td>端口不可达</td>\n</tr>\n<tr>\n<td>5</td>\n<td>0</td>\n<td>重定向</td>\n</tr>\n<tr>\n<td>8</td>\n<td>0</td>\n<td>Echo    Request</td>\n</tr>\n</tbody>\n</table>\n<h6 id=\"icmp重定向\"><a class=\"markdownIt-Anchor\" href=\"#icmp重定向\">#</a> ICMP 重定向：</h6>\n<p>1. 主机访问服务器，两台设备处于不同的网段</p>\n<p>2. 主机默认将所有跨网络访问的数据报交由自己的网关进行处理</p>\n<p>3. 网关收到主机发送的报文后查找路由表，发现下一跳的地址与主机所处同一网段</p>\n<p>4. 网关会将下一跳的 IP 地址通过 ICMP 重定向消息发送给主机，主机收到后。再次访问服务器时，直接通过网关给的下一跳进行访问。</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/18/2022.10.18/",
            "url": "http://example.com/2022/10/18/2022.10.18/",
            "title": "HCIA(二) 2020.10.18",
            "date_published": "2022-10-18T05:19:22.375Z",
            "content_html": "<h3 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h3>\n<h4 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h4>\n<p><mark>白日放歌需纵酒，漫卷诗书喜欲狂。—— 杜甫</mark></p>\n<h4 id=\"交换机\"><a class=\"markdownIt-Anchor\" href=\"#交换机\">#</a> 交换机:</h4>\n<p>​\t工作在数据链路层</p>\n<p>​\t工作原理：根据数据帧中的目的 MAC 地址进行转发 查表转发</p>\n<p>​\t每一个接口属于不同的冲突域，交换机可以隔绝冲突域</p>\n<p>​\t交换机的所有接口属于同一个广播域</p>\n<p>​\t广播域：一个广播报文所能达到的所有范围</p>\n<h5 id=\"交换机的mac地址表项学习\"><a class=\"markdownIt-Anchor\" href=\"#交换机的mac地址表项学习\">#</a> 交换机的 MAC 地址表项学习：</h5>\n<p>​\t交换机接受到一个数据帧，查看源 MAC 地址，将源 MAC 地址于接收到数据帧的接口作为表项加入到 MAC 地址表中</p>\n<p>​\tMAC 地址表项的老化时间 300s</p>\n<h5 id=\"交换机的mac地址表刷新\"><a class=\"markdownIt-Anchor\" href=\"#交换机的mac地址表刷新\">#</a> 交换机的 MAC 地址表刷新：</h5>\n<p>​\t当交换机收到一个数据帧，查看源 MAC 地址，是否存在 MAC 地址表中，不存在则学习，如果存在则将 MAC 地址的老化时间刷新。</p>\n<h5 id=\"交换机对数据帧的转发方式\"><a class=\"markdownIt-Anchor\" href=\"#交换机对数据帧的转发方式\">#</a> 交换机对数据帧的转发方式：</h5>\n<p>​\t转发：交换机从一个接口收到数据帧，只从另外一个接口发出</p>\n<p>​\t当收到一个已知的单播数据帧时，交换机会进行转发操作，已知的单播数据帧（数据帧的目的 MAC 地址在 MAC 地址表中存在）</p>\n<p>​\t泛洪：交换机从一个接口收到一个数据帧，从出这个接口以外的所有接口进行发出</p>\n<p>​\t当收到一个未知的单播数据帧，组播帧，广播帧，未知单播数据帧（目的 MAC 地址在\tMAC 地址表中不存在）</p>\n<p>​\t丢弃：交换机从一个接口收到数据帧后，不会从任何接口进行发出</p>\n<p>​\t当交换机收到错误的数据帧（尾校验不通过）、数据帧的入接口和出接口一致</p>\n<h4 id=\"网络层\"><a class=\"markdownIt-Anchor\" href=\"#网络层\">#</a> 网络层：</h4>\n<p>​\t在上层数据前加上 IP 头，数据包</p>\n<p>​\t网络层协议：IP ,ICMP ,IPX 等</p>\n<p>​\t路由器工作在网络层</p>\n<p>​\t路由器的每个接口属于不同的广播域</p>\n<p>​\t网关：收集本网段信息，发送给其他网段。</p>\n<h5 id=\"ip头部参数\"><a class=\"markdownIt-Anchor\" href=\"#ip头部参数\">#</a> IP 头部参数：</h5>\n<p>​\t版本（Version）：表识使用 IP 的版本，ipv4 的值为 4</p>\n<p>​\t头部长度（header length）：用于表识 ip 头部长度</p>\n<p>​\t服务类型（Type of Service）：主要用于 QOS，给不同的流量进行限速</p>\n<p>​\t总长度（Total Length）：表识整个 ip 报文的总长度</p>\n<p>​\t标识位（Identification）：用于报文重组</p>\n<p>​\t标志位（Flags）：用于标识报文能不能分片，是否时最后一个包分片</p>\n<p>​\t\t保留位：为 0，没由意义</p>\n<p>​\t\t分片位：为 1 时表示不允许分片，为 0 时表示允许分片</p>\n<p>​\t\t更多位：如果为 0 时，表示时最后一个包分片，设备收到后可以进行重组报文的操作</p>\n<p>​\t片偏移（Fragment  Offset）：表示分片在原报文的偏移位置，用于重组报文时能够正确排列位置</p>\n<p>​\t生存时间（TTL）：用于三层（网络层防环），初始为 255，每经过一台三层设备减一，当路由器收到一个数据包生存时间为 0 的，直接将数据包进行丢弃</p>\n<p>​\t协议（Protocol）：用于标识上层协议类型</p>\n<p>​\t\t1：ICMP</p>\n<p>​\t\t2：IGMP</p>\n<p>​\t\t6：TCP</p>\n<p>​\t\t17：UDP</p>\n<p>​\t头部校验和（Header Checksum）：用于校验 IP 头部完整性</p>\n<p>​\t源 IP（Source IP Address）：发送数据包的设备的 IP 地址</p>\n<p>​\t目的 IP（Destination IP Address）：最终接收者的 IP 地址</p>\n<p>​\t可选项（Options）：用于携带一些可选能力，例如认证等</p>\n<p>​\t填充（Padding）：无意义，维持 IP 头部为 4 字节的整数倍</p>\n<p>IP 头部长度 为 20–60 字节，当不存在可选项时为 20 字节</p>\n<h5 id=\"ip地址\"><a class=\"markdownIt-Anchor\" href=\"#ip地址\">#</a> IP 地址：</h5>\n<p>​\t长度 32bit 位，采用点分十进制表示</p>\n<p>​\t范围 0.0.0.0-----255.255.255.255</p>\n<p>​\t组成：网络 + 主机</p>\n<p>​\t网络：用来标识一个网络</p>\n<p>​\t主机：用来标识网络中的一台主机</p>\n<p>​\t掩码：用于标识一个 IP 地址中的网络部分以及主机部分，掩码为连续的 1 和连续的 0 组成。当该位置为网络位置时，掩码位为 1，当该位置为主机位时，掩码位为 0。</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/18/2022.10.17/",
            "url": "http://example.com/2022/10/18/2022.10.17/",
            "title": "HCIA(一) 2020.10.17",
            "date_published": "2022-10-18T00:50:00.093Z",
            "content_html": "<h3 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h3>\n<h4 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h4>\n<p><mark>随富随贫且欢乐，不开口笑是痴人。—— 唐代。白居易 《对酒》</mark></p>\n<p><mark>译文：人生不论穷富，不必太过于斤斤计较，应该尽量放宽胸怀，随时保持心情的愉快，这才是处世之道</mark></p>\n<h3 id=\"网络的定义\"><a class=\"markdownIt-Anchor\" href=\"#网络的定义\">#</a> 网络的定义：</h3>\n<p>终端设备通过物理介质实现跨地域的资源共享</p>\n<p>物理介质：电话线、网线、光纤、红外线、无线电、同轴电缆，蓝牙等</p>\n<p>双绞线：支持的速率有 10M、100M、1000M、10G</p>\n<p>有效传输距离：100m  工程运行最大 70m</p>\n<p>4 对 8 根 1 2 3 4 5 6 7 8 1236（传输数据）   45（语音）    78（备用）</p>\n<p><strong>水晶头：568B： 橙白 橙、绿白 蓝、蓝白 绿 、棕白 棕</strong></p>\n<p><strong>光纤：支持的速率有 100M、1000M、10G、100G</strong><br>\n 单模光纤：只能传输一种光，传输距离较远<br>\n多模光纤：利用了光复用技术，能够传输多种光，传输距离相对于单模较近有效传输距离 20 公里</p>\n<h3 id=\"网络参考模型\"><a class=\"markdownIt-Anchor\" href=\"#网络参考模型\">#</a> 网络参考模型：</h3>\n<h4 id=\"osi参考模型国际标准组织iso提出\"><a class=\"markdownIt-Anchor\" href=\"#osi参考模型国际标准组织iso提出\">#</a> osi 参考模型：国际标准组织 iso 提出</h4>\n<p>应用层：面向应用，产生数据。</p>\n<p>表示层：对数据进行特殊处理 例如 ：加密，压缩。</p>\n<p>会话层：建立，维护，终端会话连接。</p>\n<p>传输层：建立端到端的链接，控制数据的传输。</p>\n<p>网络层：提供逻辑地址，路由寻址，报文重组。</p>\n<p>数据链路层：将数据转化为数据帧，发送至物理层。</p>\n<p>物理层：将数据转化为比特流，发生出去，具体为发生电信号或光信号。</p>\n<h4 id=\"tcpip\"><a class=\"markdownIt-Anchor\" href=\"#tcpip\">#</a> TCP/IP</h4>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">TCP/IP 标准模型</th>\n<th style=\"text-align:center\">OSI</th>\n<th style=\"text-align:center\">TCP/IP 对等模型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">应用层</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">应用层</td>\n<td style=\"text-align:center\">表示层</td>\n<td style=\"text-align:center\">应用层</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">会话层</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">传输层</td>\n<td style=\"text-align:center\">传输层</td>\n<td style=\"text-align:center\">传输层</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">网络层</td>\n<td style=\"text-align:center\">网络层</td>\n<td style=\"text-align:center\">网络层</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">网络接入层</td>\n<td style=\"text-align:center\">数据链路层</td>\n<td style=\"text-align:center\">数据链路层</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">物理层</td>\n<td style=\"text-align:center\">物理层</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"数据链路层\"><a class=\"markdownIt-Anchor\" href=\"#数据链路层\">#</a> 数据链路层</h5>\n<p>​\t冲突点：发送数据产生的碰撞点</p>\n<p>​\t冲突域：所有碰撞点的集合</p>\n<p>​\t造成的问题：正常的数据丢失</p>\n<p>​\t解决办法：</p>\n<p>CSMA/CD : 载波侦听，多路访问，冲突检测</p>\n<p>​\t1. 先听后法：主机需要发送数据时，先监听链路上是否存在别的设备在发送数据，\t有则不发送数据，没有则发送</p>\n<p>​\t2. 边听边发：主机在发送数据时，继续监听链路是否发送数据碰撞</p>\n<p>​\t3. 冲突停发：如果主机在发送数据时，检测到有数据碰撞，则停发</p>\n<p>​\t4. 随机延时后发：当发生冲突后停止发送数据，开启随机计时器，当时间到了 在监\t听链路是否有数据传输。</p>\n<h5 id=\"网卡的工作模式\"><a class=\"markdownIt-Anchor\" href=\"#网卡的工作模式\">#</a> 网卡的工作模式:</h5>\n<p>​\t单工 ：只允许收或者发一种操作</p>\n<p>​\t半双工 ：能收能发，但是不能同时进行</p>\n<p>​\t全双工 ：能收能发，并且可以同时进行</p>\n<p>​\t自协商 ：设备自己协商使用哪种工作模式</p>\n<h4 id=\"数据帧格式\"><a class=\"markdownIt-Anchor\" href=\"#数据帧格式\">#</a> 数据帧格式：</h4>\n<h5 id=\"以太网ii帧\"><a class=\"markdownIt-Anchor\" href=\"#以太网ii帧\">#</a> 以太网 Ⅱ 帧：</h5>\n<p>​\tD.MAC +S.MAC+type +data +FCS</p>\n<p>​\tD.MAC：目的 MAC 地址，用于接收者</p>\n<p>​\tS.MAC：源 MAC 地址，用于发送者</p>\n<p>​\tType：用于标识上层协议类型</p>\n<p>​\t\t0x0800：表示网络层使用的协议为 IP 协议</p>\n<p>​\t\t0x0806：表示网络层使用的协议为 ARP 协议</p>\n<p>​\tFCS：尾校验，用于检验数据帧的完整性</p>\n<h5 id=\"ieee8023帧格式\"><a class=\"markdownIt-Anchor\" href=\"#ieee8023帧格式\">#</a> IEEE802.3 帧格式 ：</h5>\n<p>​\tD.MAC +S.MAC+length+LLC +SNAP+FCS</p>\n<p>​\tD.MAC：目的 MAC 地址，用于接收者</p>\n<p>​\tS.MAC：源 MAC 地址，用于发送者</p>\n<p>​\tlength：标识数据帧的长度</p>\n<p>​\tLLC：逻辑链路控制</p>\n<p>​\tSNAP：</p>\n<p>​\t\tOrg Code：全为 0 ，无意义</p>\n<p>​\t\tType：用于标识上层协议</p>\n<p>​\tFCS：尾校验，用于检验数据帧的完整性</p>\n<h5 id=\"mac地址\"><a class=\"markdownIt-Anchor\" href=\"#mac地址\">#</a> MAC 地址:</h5>\n<p>​\t物理硬件地址，全球唯一</p>\n<p>​\t格式 / 长度：杠分十六进制表示，长度 48bit</p>\n<p>​\t例如 1A-2B-3C-4D-5F-6E</p>\n<p>​\t1 字节 = 8bit</p>\n<p>​\t前 24bit 由 OUI 组织分配，分配给每一个厂商的是不同的前缀</p>\n<p>​\t后 24bit 由厂商自行分配，分配到每一个设备都是不同的后缀</p>\n<h5 id=\"mac地址分类\"><a class=\"markdownIt-Anchor\" href=\"#mac地址分类\">#</a> MAC 地址分类:</h5>\n<p>​\t单播 MAC 地址：当作为目的时，为一对一通信</p>\n<p>​\t\t第一字节第八 bit 位 0</p>\n<p>​\t例如：54-89----</p>\n<p>​\t0101010<u><strong>0</strong></u>-10001001----</p>\n<p>​\t组播 MAC 地址：当作为目的使用时，表示接收者是一个组的设备</p>\n<p>​\t\t第一字节第八 bit 位为 1</p>\n<p>​\t例如：01-00----</p>\n<p>​\t0000000<u><strong>1</strong></u>-00000000----</p>\n<p>​\t广播 MAC 地址：作为目的使用时，表示接收者时所以设备</p>\n<p>​\t\t48bit 位全为 1，则为广播</p>\n<p>​\t\tFF-FF-FF-FF-FF-FF</p>\n<p>​\t11111111-11111111-11111111-11111111-11111111-111111111-11111111</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/09/2022.10.9/",
            "url": "http://example.com/2022/10/09/2022.10.9/",
            "title": "每日一记",
            "date_published": "2022-10-09T07:02:30.741Z",
            "content_html": "<h1 id=\"回校隔离三天-第二天和第三天\"><a class=\"markdownIt-Anchor\" href=\"#回校隔离三天-第二天和第三天\">#</a> 回校隔离三天 （第二天和第三天）</h1>\n<div class=\"note info\">\n<p>因为网络原因 10 月 8 号 就没有编写博客 (⊙﹏⊙)</p>\n</div>\n<h1 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h1>\n<h2 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h2>\n<h4 id=\"我像睡着了静静的沉沦在宁静的梦里梦里里一片温暖的月牙白我躺在那儿身边有少许的花我半梦半醒的样子盯着那花什么也不去想了\"><a class=\"markdownIt-Anchor\" href=\"#我像睡着了静静的沉沦在宁静的梦里梦里里一片温暖的月牙白我躺在那儿身边有少许的花我半梦半醒的样子盯着那花什么也不去想了\">#</a> <strong><mark>我像睡着了，静静的沉沦在宁静的梦里，梦里里一片温暖的月牙白，我躺在那儿，身边有少许的花，我半梦半醒的样子，盯着那花，什么也不去想了。</mark></strong></h4>\n<p><s>每日推荐歌曲 ：身骑白马</s>         ps：暂时未完成</p>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_0\" checked=\"true\" disabled=\"true\"><label for=\"cbx_0\"> 未完成</label></li>\n</ul>\n<h6 id=\"链接-身骑白马-徐佳莹-单曲-网易云音乐-163com\"><a class=\"markdownIt-Anchor\" href=\"#链接-身骑白马-徐佳莹-单曲-网易云音乐-163com\">#</a> 链接 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvc29uZz9pZD0zMDY2NjQ=\">身骑白马 - 徐佳莹 - 单曲 - 网易云音乐 (163.com)</span></h6>\n<h2 id=\"hh\"><a class=\"markdownIt-Anchor\" href=\"#hh\">#</a> hh</h2>\n<p>感觉没什么好记的 就酱吧</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/07/2022.10.7/",
            "url": "http://example.com/2022/10/07/2022.10.7/",
            "title": "每日一记",
            "date_published": "2022-10-07T04:12:15.523Z",
            "content_html": "<h1 id=\"回校隔离三天-第一天\"><a class=\"markdownIt-Anchor\" href=\"#回校隔离三天-第一天\">#</a> 回校隔离三天 （第一天）</h1>\n<h1 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h1>\n<h2 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h2>\n<p><strong><mark>香满衣，云满路，鸾凤绕身飞舞。霓旌绛节一群群，引见玉华君。</mark></strong></p>\n<h2 id=\"collapse-折叠块\"><a class=\"markdownIt-Anchor\" href=\"#collapse-折叠块\">#</a>  <code>collapse</code>  折叠块</h2>\n<table>\n<thead>\n<tr>\n<th>开始行</th>\n<th><code>+++[风格颜色] [标题文字]</code></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>结束行</td>\n<td><code>+++</code></td>\n</tr>\n</tbody>\n</table>\n<details><summary>默认默认 这里是一段文字</summary><div>\n<p>++ 下划线 ++</p>\n</div></details>\n<details class=\"primary\"><summary>紫色</summary><div>\n<div class=\"note info\">\n<p>参考信息</p>\n</div>\n<ul>\n<li>第一行</li>\n<li>第二行</li>\n</ul>\n</div></details>\n<details class=\"info\"><summary>蓝色</summary><div>\n<div class=\"tab\" data-id=\"id3\" data-title=\"卡片 1\">\n<p>这里是卡片 1 的内容</p>\n</div>\n<div class=\"tab\" data-id=\"id3\" data-title=\"卡片 2\">\n<p>这里是卡片 2 的内容</p>\n</div>\n</div></details>\n<details class=\"success\"><summary>绿色</summary><div>\n<div class=\"links\"><div class=\"item\" title=\"峻峻尼\" style=\"--block-color:#e9546b;\"><span class=\"exturl image\" data-url=\"aHR0cHM6Ly94aW55dXpqai5naXRodWIuaW8=\" data-background-image=\"/images/404.png\"></span>\n          <div class=\"info\">\n          <span class=\"exturl title\" data-url=\"aHR0cHM6Ly94aW55dXpqai5naXRodWIuaW8=\">峻峻尼</span>\n          <p class=\"desc\">https://xinyuzjj.github.io</p>\n          </div></div></div>\n</div></details>\n<details class=\"warning\"><summary>黄色</summary><div>\n<p>!! 警告警告警告警告警告！！{.bulr}<br>\n<span class=\"label success\">label</span></p>\n</div></details>\n<details class=\"danger\"><summary>红色</summary><div>\n<p><span class=\"label danger\">danger</span></p>\n</div></details>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+++ 默认默认 这里是一段文字</span><br><span class=\"line\">++ 下划线 ++</span><br><span class=\"line\"></span><br><span class=\"line\">------</span><br><span class=\"line\"></span><br><span class=\"line\">+++primary 紫色</span><br><span class=\"line\">:::info</span><br><span class=\"line\">参考信息</span><br><span class=\"line\">:::</span><br><span class=\"line\"></span><br><span class=\"line\">- 第一行</span><br><span class=\"line\">- 第二行</span><br><span class=\"line\"></span><br><span class=\"line\">------</span><br><span class=\"line\"></span><br><span class=\"line\">+++info  蓝色</span><br><span class=\"line\">;;;id3 卡片 1</span><br><span class=\"line\">这里是卡片 1 的内容</span><br><span class=\"line\">;;;</span><br><span class=\"line\"></span><br><span class=\"line\">;;;id3 卡片 2</span><br><span class=\"line\">这里是卡片 2 的内容</span><br><span class=\"line\">;;;</span><br><span class=\"line\"></span><br><span class=\"line\">------</span><br><span class=\"line\"></span><br><span class=\"line\">+++success 绿色</span><br><span class=\"line\">&#123;% links %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- site: 峻峻尼</span><br><span class=\"line\">  url: https://xinyuzjj.github.io</span><br><span class=\"line\">  color: &quot;#e9546b&quot;</span><br><span class=\"line\">  &#123;% endlinks %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">------</span><br><span class=\"line\"></span><br><span class=\"line\">+++warning 黄色</span><br><span class=\"line\">!! 警告警告警告警告警告！！&#123;.bulr&#125;</span><br><span class=\"line\">[label]&#123;.label .success&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">------</span><br><span class=\"line\"></span><br><span class=\"line\">+++danger 红色</span><br><span class=\"line\">[danger]&#123;.label .danger&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"tasklist-待办事项\"><a class=\"markdownIt-Anchor\" href=\"#tasklist-待办事项\">#</a>  <code>taskList</code>  待办事项</h2>\n<ul class=\"task-list\">\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_0\" disabled=\"true\"><label for=\"cbx_0\"> 这是一个小叉叉</label></p>\n</li>\n<li class=\"task-list-item danger\">\n<p><input type=\"checkbox\" id=\"cbx_1\" checked=\"true\" disabled=\"true\"><label for=\"cbx_1\"> 这是一个红色勾勾</label></p>\n<p></p>\n</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_2\" disabled=\"true\"><label for=\"cbx_2\"> 未完成</label></p>\n</li>\n<li class=\"task-list-item primary\">\n<p><input type=\"checkbox\" id=\"cbx_3\" checked=\"true\" disabled=\"true\"><label for=\"cbx_3\"> 完成</label></p>\n<p></p>\n</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_4\" disabled=\"true\"><label for=\"cbx_4\"> 未完成</label></p>\n</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_5\" checked=\"true\" disabled=\"true\"><label for=\"cbx_5\"> 默认颜色</label></p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- [ ] 这是一个小叉叉</span><br><span class=\"line\">- [x] 这是一个红色勾勾</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;.danger&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- [ ] 未完成</span><br><span class=\"line\">- [x] 完成</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;.primary&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- [ ] 未完成</span><br><span class=\"line\">- [x] 默认颜色</span><br></pre></td></tr></table></figure>\n<h2 id=\"media-多媒体\"><a class=\"markdownIt-Anchor\" href=\"#media-多媒体\">#</a>  <code>media</code>  多媒体</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% media audio %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"> ... 音频列表 </span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% endmedia %&#125; </span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% media video %&#125; </span><br><span class=\"line\"></span><br><span class=\"line\">... 视频列表 </span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% endmedia %&#125;  </span><br></pre></td></tr></table></figure>\n<h2 id=\"如何向-hexo-博客中插入图片\"><a class=\"markdownIt-Anchor\" href=\"#如何向-hexo-博客中插入图片\">#</a> 如何向 hexo 博客中插入图片</h2>\n<h3 id=\"1-使用相对路径的方式\"><a class=\"markdownIt-Anchor\" href=\"#1-使用相对路径的方式\">#</a> 1 使用相对路径的方式</h3>\n<p>由于我们的博客是要部署在网站上，部署后会生成新的文件目录，所以我们选择使用相对路径的方式。</p>\n<p>在 hexo 中使用文章资源文件夹需要在<strong> config.yaml</strong> 文件中更改一下配置：</p>\n<p><strong>post_asset_folder: true</strong></p>\n<p>当该配置被应用后，使用 hexo new 命令创建新文章时，会生成相同名字的文件夹，也就是文章资源文件夹。</p>\n<p><strong>使用这样的方式来引入图片：</strong></p>\n<p><strong></strong></p>\n<h3 id=\"2-hexo-renderer-marked插件的安装与配置\"><a class=\"markdownIt-Anchor\" href=\"#2-hexo-renderer-marked插件的安装与配置\">#</a> 2 hexo-renderer-marked 插件的安装与配置</h3>\n<p>安装： <strong>npm install hexo-renderer-marked --save</strong>   ，之后在 config.yaml 中更改配置即可</p>\n<p>之后就可以在使用 <strong><img data-src=\"image.jpg\" alt=\"\"></strong></p>\n<h3 id=\"3-hexo-renderer-marked插件与typora的完美结合\"><a class=\"markdownIt-Anchor\" href=\"#3-hexo-renderer-marked插件与typora的完美结合\">#</a> 3 hexo-renderer-marked 插件与 Typora 的完美结合</h3>\n<p>Typora 对于插入图片的支持做得非常好，<strong>在文件 -&gt; 偏好设置或者直接 &lt;C-,&gt; 进入设置。</strong></p>\n<p><strong>复制网络路径的图片：</strong></p>\n<p>使用该配置后，可以直接复制网页中的图片地址，粘贴到 Typora 中后，会直接复制该图片到文章资源文件夹，同时自动更改路径。</p>\n<p><strong>如复制网络路径的图片 https://…/image.jpg 粘贴到 Typora 中叫文章名的文章后，图片会自动变为<img data-src=\"%E6%96%87%E7%AB%A0%E5%90%8D/image.jpg\" alt=\"\"></strong></p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/06/2022.10.6/",
            "url": "http://example.com/2022/10/06/2022.10.6/",
            "title": "模仿大佬模板进行学习和代码复制（一） 👍",
            "date_published": "2022-10-06T06:54:11.726Z",
            "content_html": "<div class=\"note info\">\n<p>以下介绍可以使用的 markdown 或者标签代码。 功能大部分基于 hexo-renderer-multi-markdown-it 渲染器，尤其是代码块的显示，与默认渲染器不兼容。</p>\n</div>\n<h1 id=\"随记\"><a class=\"markdownIt-Anchor\" href=\"#随记\">#</a> 随记</h1>\n<h2 id=\"mood\"><a class=\"markdownIt-Anchor\" href=\"#mood\">#</a> mood</h2>\n<p><strong><mark>人汹汹，鼓冬冬，襟袖五更风。大罗天上月朦胧，骑马上虚空。</mark></strong></p>\n<h2 id=\"代码块\"><a class=\"markdownIt-Anchor\" href=\"#代码块\">#</a> 代码块</h2>\n<p>使用 markdown-it-prism 进行代码高亮，支持显示行号、行高亮 mark 、命令行提示符 command 、代码块标题。  基本格式： [language] [title] [url] [link text] [mark] [command]</p>\n<p>import java.util.Scanner;<br>\n…<br>\nScanner in = new Scanner(<span class=\"exturl\" data-url=\"aHR0cDovL1N5c3RlbS5pbg==\">System.in</span>);<br>\n// 输入 Scan 之后，按下键盘 Alt + “/” 键，Eclipse 下自动补全。</p>\n<p>System.out.println(in.nextLine());<br>\nSystem.out.println(“Hello” + &quot; world.&quot;);</p>\n<h2 id=\"emoji-绘文字\"><a class=\"markdownIt-Anchor\" href=\"#emoji-绘文字\">#</a>  <code>emoji</code>  绘文字</h2>\n<p>本功能基于 markdown-it-emoji ，所有标签<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL21hcmtkb3duLWl0L21hcmtkb3duLWl0LWVtb2ppL2Jsb2IvbWFzdGVyL2xpYi9kYXRhL2Z1bGwuanNvbg==\">参考戳此</span></p>\n<p>😘 💍 🎶</p>\n<h2 id=\"effects-文字特效\"><a class=\"markdownIt-Anchor\" href=\"#effects-文字特效\">#</a>  <code>effects</code>  文字特效</h2>\n<p>本功能基于 markdown-it-ins 、 markdown-it-bracketed-spans 和 markdown-it-attrs</p>\n<p><ins>下划线</ins><br>\n<ins class=\"wavy\">波浪线</ins><br>\n<ins class=\"dot\">着重点</ins><br>\n<ins class=\"primary\">紫色下划线</ins><br>\n<ins class=\"wavy success\">绿色波浪线</ins><br>\n<ins class=\"dot warning\">黄色着重点</ins><br>\n～～删除线～～<br>\n~~ 红色删除线～～{.danger}<br>\n<mark> 荧光高亮</mark><br>\n<span class=\"rainbow\">赤橙黄绿青蓝紫</span><br>\n<span class=\"red\">红色</span><br>\n<span class=\"pink\">粉色</span><br>\n<span class=\"orange\">橙色</span><br>\n<span class=\"yellow\">黄色</span><br>\n<span class=\"green\">绿色</span><br>\n<span class=\"aqua\">靛青</span><br>\n<span class=\"blue\">蓝色</span><br>\n<span class=\"purple\">紫色</span><br>\n<span class=\"grey\">灰色</span><br>\n快捷键 <span class=\"kbd\">Ctrl</span> + <span class=\"kbd red\">C</span><br>\nH<sub>2</sub>0<br>\n29<sup>th</sup></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">++ 下划线 ++</span><br><span class=\"line\">++ 波浪线 ++&#123;.wavy&#125;</span><br><span class=\"line\">++ 着重点 ++&#123;.dot&#125;</span><br><span class=\"line\">++ 紫色下划线 ++&#123;.primary&#125;</span><br><span class=\"line\">++ 绿色波浪线 ++&#123;.wavy .success&#125;</span><br><span class=\"line\">++ 黄色着重点 ++&#123;.dot .warning&#125;</span><br><span class=\"line\">~~ 删除线～～</span><br><span class=\"line\">~~ 红色删除线～～&#123;.danger&#125;</span><br><span class=\"line\">== 荧光高亮 ==</span><br><span class=\"line\">[赤橙黄绿青蓝紫]&#123;.rainbow&#125;</span><br><span class=\"line\">[红色]&#123;.red&#125;</span><br><span class=\"line\">[粉色]&#123;.pink&#125;</span><br><span class=\"line\">[橙色]&#123;.orange&#125;</span><br><span class=\"line\">[黄色]&#123;.yellow&#125;</span><br><span class=\"line\">[绿色]&#123;.green&#125;</span><br><span class=\"line\">[靛青]&#123;.aqua&#125;</span><br><span class=\"line\">[蓝色]&#123;.blue&#125;</span><br><span class=\"line\">[紫色]&#123;.purple&#125;</span><br><span class=\"line\">[灰色]&#123;.grey&#125;</span><br><span class=\"line\">快捷键 [Ctrl]&#123;.kbd&#125; + [C]&#123;.kbd .red&#125;</span><br><span class=\"line\">H~2~0</span><br><span class=\"line\">29^th^</span><br></pre></td></tr></table></figure>\n<h2 id=\"label-标签块\"><a class=\"markdownIt-Anchor\" href=\"#label-标签块\">#</a>  <code>label</code>  标签块</h2>\n<p>本功能基于 markdown-it-bracketed-spans 和 markdown-it-attrs</p>\n<p><span class=\"label\">default</span><br>\n<span class=\"label primary\">primary</span><br>\n<span class=\"label info\">info</span><br>\n<span class=\"label success\">✔️success</span><br>\n<span class=\"label warning\">warning</span><br>\n<span class=\"label danger\">💔danger</span></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">[default]&#123;.label&#125;</span><br><span class=\"line\">[primary]&#123;.label .primary&#125;</span><br><span class=\"line\">[info]&#123;.label .info&#125;</span><br><span class=\"line\">[:heavy_check_mark:success]&#123;.label .success&#125;</span><br><span class=\"line\">[warning]&#123;.label .warning&#125;</span><br><span class=\"line\">[:broken_heart:danger]&#123;.label .danger&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"note-提醒块\"><a class=\"markdownIt-Anchor\" href=\"#note-提醒块\">#</a>  <code>note</code>  提醒块</h2>\n<div class=\"note default\">\n<p>默认默认</p>\n</div>\n<div class=\"note primary\">\n<p>基本基本</p>\n</div>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<div class=\"note success\">\n<p>成功成功</p>\n</div>\n<div class=\"note warning\">\n<p>警告警告</p>\n</div>\n<div class=\"note danger\">\n<p>危险危险</p>\n</div>\n<div class=\"note danger no-icon\">\n<p>危险危险</p>\n</div>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:::default </span><br><span class=\"line\"></span><br><span class=\"line\">默认默认</span><br><span class=\"line\"></span><br><span class=\"line\"> :::</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">:::primary </span><br><span class=\"line\"></span><br><span class=\"line\">基本基本</span><br><span class=\"line\"></span><br><span class=\"line\"> :::</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">:::info </span><br><span class=\"line\"></span><br><span class=\"line\">提示提示</span><br><span class=\"line\"></span><br><span class=\"line\"> ::: </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">:::success </span><br><span class=\"line\"></span><br><span class=\"line\">成功成功</span><br><span class=\"line\"></span><br><span class=\"line\"> ::: </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">:::warning </span><br><span class=\"line\"></span><br><span class=\"line\">警告警告</span><br><span class=\"line\"></span><br><span class=\"line\"> ::: </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">:::danger </span><br><span class=\"line\"></span><br><span class=\"line\">危险危险</span><br><span class=\"line\"></span><br><span class=\"line\"> ::: </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">:::danger no-icon </span><br><span class=\"line\"></span><br><span class=\"line\">危险危险</span><br><span class=\"line\"></span><br><span class=\"line\"> :::   </span><br></pre></td></tr></table></figure>\n<h3 id=\"模仿链接step4-主题特殊功能-theme-shoka-documentation-二进制杂谈-计算机科学-yume-shoka-優萌初華-有夢書架-lostyume\"><a class=\"markdownIt-Anchor\" href=\"#模仿链接step4-主题特殊功能-theme-shoka-documentation-二进制杂谈-计算机科学-yume-shoka-優萌初華-有夢書架-lostyume\">#</a> 模仿链接<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWUvY29tcHV0ZXItc2NpZW5jZS9ub3RlL3RoZW1lLXNob2thLWRvYy9zcGVjaWFsLw==\"> Step.4 主题特殊功能 - Theme Shoka Documentation - 二进制杂谈 - 计算机科学 | Yume Shoka = 優萌初華 = 有夢書架 (lostyu.me)</span></h3>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/05/pinglun/",
            "url": "http://example.com/2022/10/05/pinglun/",
            "title": "评论功能 添加",
            "date_published": "2022-10-05T03:12:41.234Z",
            "content_html": "<h2 id=\"获取app-id-和-app-key\"><a class=\"markdownIt-Anchor\" href=\"#获取app-id-和-app-key\">#</a> 获取 APP ID 和 APP Key</h2>\n<p>请先<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWFuY2xvdWQuY24vZGFzaGJvYXJkL2xvZ2luLmh0bWwjL3NpZ25pbg==\">登录</span>或<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWFuY2xvdWQuY24vZGFzaGJvYXJkL2xvZ2luLmh0bWwjL3NpZ251cA==\">注册</span>  <code>LeanCloud</code> , 进入<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWFuY2xvdWQuY24vZGFzaGJvYXJkL2FwcGxpc3QuaHRtbCMvYXBwcw==\">控制台</span>后点击左下角<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWFuY2xvdWQuY24vZGFzaGJvYXJkL2FwcGxpc3QuaHRtbCMvbmV3YXBw\">创建应用</span>：</p>\n<p><img data-src=\"https://i.loli.net/2019/06/21/5d0c995c86fac81746.jpg\" alt=\"img\"></p>\n<p>应用创建好以后，进入刚刚创建的应用，选择左下角的 <code>设置</code>  &gt; <code>应用Key</code> ，然后就能看到你的 <code>APP ID</code>  和 <code>APP Key</code>  了：</p>\n<p><img data-src=\"https://i.loli.net/2019/06/21/5d0c997a60baa24436.jpg\" alt=\"img\"></p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/04/creat_ok/",
            "url": "http://example.com/2022/10/04/creat_ok/",
            "title": "hexo搭建博客",
            "date_published": "2022-10-04T13:02:03.089Z",
            "content_html": "<h1 id=\"创建博客\"><a class=\"markdownIt-Anchor\" href=\"#创建博客\">#</a> 创建博客</h1>\n<h1 id=\"参考b站教程\"><a class=\"markdownIt-Anchor\" href=\"#参考b站教程\">#</a> 参考 B 站教程</h1>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3JlYWQvY3YxMjYzMzEwMg==\">2021 最全 hexo 搭建博客 + matery 美化 + 使用（保姆级教程） - 哔哩哔哩 (bilibili.com)</span></p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2022/10/04/one_frist/",
            "url": "http://example.com/2022/10/04/one_frist/",
            "title": "欢迎大家光临我的个人博客",
            "date_published": "2022-10-04T11:35:22.874Z",
            "content_html": "<p>欢迎大家光临我的个人博客</p>\n<h2 id=\"quick-start\"><a class=\"markdownIt-Anchor\" href=\"#quick-start\">#</a> Quick Start</h2>\n<h3 id=\"博客模板\"><a class=\"markdownIt-Anchor\" href=\"#博客模板\">#</a> 博客模板</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">来自 https://github.com/amehime/hexo-theme-shoka</span><br></pre></td></tr></table></figure>\n",
            "tags": []
        }
    ]
}