<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color=""><link rel="manifest" href="/images/manifest.json"><meta name="msapplication-config" content="/images/browserconfig.xml"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="峻峻尼的个人博客" href="http://example.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="峻峻尼的个人博客" href="http://example.com/atom.xml"><link rel="alternate" type="application/json" title="峻峻尼的个人博客" href="http://example.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="http://example.com/2023/02/20/2023.2.13/"><title>HCIA-security(一) 2023.2.13 | Z.J.J = 峻峻尼的个人博客</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">HCIA-security(一) 2023.2.13</h1><div class="meta"><span class="item" title="创建时间：2023-02-20 08:54:39"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-02-20T08:54:39+08:00">2023-02-20</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>8.1k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>7 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Z.J.J</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclxfdlttj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclwrdwyaj20zk0m8are.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipewkhf1zj20zk0m81kx.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipew8gmvyj20zk0m87wh.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giph4baakhj20zk0m8h5q.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclflwv2aj20zk0m84qp.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://example.com/2023/02/20/2023.2.13/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="峻峻尼"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="峻峻尼的个人博客"></span><div class="body md" itemprop="articleBody"><p>传统防火墙：</p><p>​	病毒特征库 —&gt; 网咯已经出现的病毒 —&gt; 源码进行 HASH 对文件进行 HASH 计算 —&gt; 病毒特征库</p><p>变种病毒：</p><p>​	已知病毒 —&gt; 源码修改 —&gt; 新的病毒（传统防火墙无法）</p><p>下一代防火墙：</p><p>​	人工智能技术 / 引擎 —&gt; 对已知病毒 —&gt; 进行变种计算</p><p>云 管 (网) 端 联动处理</p><p>​	安全厂商公有云平台</p><p>​	网络设备</p><p>​	终端</p><p>信息安全：</p><p>​	防止任何对数据进行未授权访问的措施，或者防止造成信息有意无意泄漏、破坏、丢失等问题的发生，让数据处于远离危险、免于威胁的状态或特性。</p><p>网络安全：</p><p>​	计算机网络环境下的信息安全。</p><p>APT 攻击：</p><p>高级持续性威胁。 利用先进的攻击手段对特定目标进行长期持续性网络攻击的攻击形式</p><p>TCP/IP 协议栈</p><p>​	基于可信任环境开发，缺乏信息安全机制</p><pre><code>1. 缺乏数据源验证机制
2. 缺乏完整性验证机制
3. 缺乏机密性保护机制
</code></pre><p>安全攻击基本模式：</p><ol><li>截获：嗅探，侦听，破坏数据的机密性</li></ol><p>​	防护的措施：数据加解密技术</p><ol start="2"><li><p>篡改：数据篡改，破环数据的完整性</p><p>防护措施：完整性校验机制</p></li><li><p>中断：线路破坏，Dos 拒绝服务攻击，破环数据的可用性</p><p>防护措施：Anti-DDoS 设备</p><p>DoS 拒绝服务攻击：占用服务器硬件资源，网络带宽。使得服务器无法为正常用户提供服务</p><p>​	TCP SYN 洪水攻击：占用服务器 TCP 资源，硬件资源</p><p>​	ICMP 洪水攻击：占用服务器硬件资源，网络带宽</p><p>​	UDP 洪水攻击：占用服务器硬件资源，网络带宽</p><p>DDoS 分布式拒绝服务攻击</p></li><li><p>伪造：身份伪造，数据伪造，破坏数据真实性</p><p>防护措施：身份认证技术</p></li></ol><p>勒索病毒：</p><p>​	防护原理：在关键文件创建诱饵文件（隐藏），一旦感染加密诱饵文件，触发安全软件，隔离文件</p><p>勒索病毒的过程：</p><p>感染媒介 —》C&amp;C 通信 —》文件加密 —》横向移动</p><p>钓鱼软件 匿名通信 混合加密体系	弱点横向探测<br>蠕虫病毒 下载载荷	弹出勒索对话框	蠕虫式传播<br>恶意邮件 DGA 通信 MS17-010 永恒之蓝漏洞</p><p>信息安全的五要素：</p><p>保密性 —confidentiality<br>完整性 —integrity<br>可用性 —availability<br>可控性 —controllability<br>不可否认性 —Non-repudiation</p><h3 id="防火墙基础"><a class="markdownIt-Anchor" href="#防火墙基础">#</a> 防火墙基础：</h3><h4 id="基本功能"><a class="markdownIt-Anchor" href="#基本功能">#</a> 基本功能：</h4><pre><code>1. 访问控制
2. 入侵防御系统IPS（主动）   IDS 入侵检测系统（淘汰，被动）
3. 身份认证技术
4. VPN 远程接入
5. 病毒查杀
6. 文件过滤
</code></pre><h4 id="防火墙分类"><a class="markdownIt-Anchor" href="#防火墙分类">#</a> 防火墙分类：</h4><ol><li><p>软硬件</p><p>硬件防火墙：网络安全设备</p><p>软件防火墙：终端</p></li><li><p>技术</p><p>包过滤防火墙：包过滤技术 ACL</p><p>应用代理防火墙：代理技术 WAF (web 应用代理防火墙)</p><p>状态检测防火墙：状态检测技术</p></li><li><p>带宽</p><p>百兆防火墙，千兆防火墙，万兆防火墙</p></li></ol><h4 id="防火墙发展史"><a class="markdownIt-Anchor" href="#防火墙发展史">#</a> 防火墙发展史：</h4><p>包过滤技术 —》应用代理技术 —》状态检测技术 —》UTM 统一威胁网关 —》下一代防火墙 NGFW</p><p>​	UTM 统一威胁网关：集成 IPS 功能，病毒检测 等功能</p><p>​	下一代防火墙 NGFW：UTM 升级版，相较于上一代防火墙性能更加强大</p><p><strong>防火墙接口 / 安全区域</strong></p><h5 id="安全区域"><a class="markdownIt-Anchor" href="#安全区域">#</a> 安全区域：</h5><ol><li><p>默认安全区域：</p><p>Local 本地区域：防火墙自身</p><p>Trust 信任区域：一般将内网划分为信任区域</p><p>DMZ 非军事化管理区域：一般将服务器划分为 DMZ 区域</p><p>Untrust 非信任区域：一般将外网划分为非信任区域</p><p><strong>默认安全区域无法删除</strong></p></li><li><p>自定义安全区域</p></li></ol><h5 id="安全级别"><a class="markdownIt-Anchor" href="#安全级别">#</a> 安全级别：</h5><p>​	每个区域都存在安全级别，级别唯一</p><p>​	本地：100</p><p>​	Trust：85</p><p>​	DMZ：50</p><p>​	Untrust ：5</p><p>​	<strong>默认安全区域的级别也无法修改</strong></p><p>防火墙基于接口划分区域</p><p>下一代防火墙 ：默认所有区域之间都不允许访问，同一个区域内部允许访问</p><p>[NGFW] firewall zone 区域<br>[] add int g 1/0/0</p><p>[] fire zone name working 设置自定义区域<br>[] set priority 1 设置安全级别</p><h4 id="防火墙种类"><a class="markdownIt-Anchor" href="#防火墙种类">#</a> 防火墙种类:</h4><ol><li><p>包过滤防火墙:</p><p>本质为 ACL，基于报文的特征匹配报文，对报文进行过滤</p><p>通常包过滤防火墙只匹配报文的头部，不检查应用层 Data</p><p><strong>缺陷</strong>：</p><pre><code> 1. 无法关联数据之间的关系，制定规则时需要部署双向规则
 2. 不检查应用层的数据
 3. 无法使用于多通道协议
</code></pre></li><li><p>应用代理防火墙：</p><p>核心技术：代理技术 / 中间人技术</p><p>针对特定的应用 / 服务进行安全检查</p><p><strong>缺陷</strong>：</p><ol><li>成本高，针对应用开发</li><li>维护难度高，应用升级，代理防火墙也需要升级</li></ol><p><strong>优势:</strong></p><ol><li>检查应用层数据内容</li></ol><p>市场仅存的应用代理防火墙：WAF Web 应用代理防火墙</p></li><li><p>状态检测防火墙：</p><p>核心技术：状态检测</p><p><strong>优势</strong>:</p><pre><code> 1. 关联数据之间的关系，会话信息
 2. 后续数据包处理效率高
 3. 检测应用层数据
</code></pre><p><strong>会话表是状态检测防火墙转发的唯一的依据</strong></p><p>状态防火墙收到报文后 —&gt; 判断是否转发：</p><ol><li><p>匹配会话表 —&gt; 存在会话表 —&gt; 内容安全检查（应用层数据）—&gt; 刷新会话表 —&gt; 转发</p></li><li><p>匹配会话表 —&gt; 不存在会话表 —&gt; 判断是否可以创建会话表</p><p>创建会话表的条件：</p><pre><code>1. **首包检查**   （不是首包丢弃）
2. 路由
3. 包过滤规则
</code></pre></li></ol><p>所有应用通信：</p><pre><code> 1. 基于TCP    首包：SYN
 2. **基于UDP  首包：所有的UDP报文**
 3. 基于ICMP  首包：ICMP Echo Request
</code></pre><p>​</p></li></ol><h4 id="防火墙部署"><a class="markdownIt-Anchor" href="#防火墙部署">#</a> 防火墙部署：</h4><ol><li><p>可靠性 冗余</p><p>单机部署</p><p>双机热备</p></li><li><p>拓扑的位置</p><p>直路部署：设备串联在网络中，对于网络影响较大</p><p>旁路部署：设备旁挂在网络边缘，对网络基本无影响</p></li></ol><pre><code>3.	模型层次

路由模式：防火墙接口工作在网络层      路由表

交换模式：防火墙接口工作在数据链路层    VLAN
</code></pre><h4 id="防火墙安全策略"><a class="markdownIt-Anchor" href="#防火墙安全策略">#</a> 防火墙安全策略：</h4><ol><li>包过滤过滤 —&gt;acl</li><li>内容安全 —&gt; 应用数据进行病毒检测，文件过滤，邮件过滤等</li></ol><h5 id="安全策略的分类"><a class="markdownIt-Anchor" href="#安全策略的分类">#</a> 安全策略的分类:</h5><ol><li><p>域间安全策略</p></li><li><p>域内安全策略</p></li><li><p>接口安全策略</p><p>http<br>https<br>ping<br>snmp 管理<br>ssh 远程登录<br>telnet 远程登录</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">配置客户端访问服务器</span><br><span class="line">[]security-policy</span><br><span class="line">[]rule name trust </span><br><span class="line">  source-zone trust</span><br><span class="line">  destination-zone untrust</span><br><span class="line">  source-address 10.1.11.1 32</span><br><span class="line">  destination-address 10.1.12.2 32</span><br><span class="line">  action permit</span><br><span class="line">配置同区域不能访问</span><br><span class="line">[]rule name tt</span><br><span class="line">  source-zone trust</span><br><span class="line">  destination-zone trust</span><br><span class="line">  action deny</span><br><span class="line">配置ospf进入full状态</span><br><span class="line">[] rule name ospf</span><br><span class="line">  source-zone trust</span><br><span class="line">  source-zone untrust</span><br><span class="line">  destination-zone local</span><br><span class="line">  service protocol 89</span><br><span class="line">  action permit</span><br></pre></td></tr></table></figure><p>dis firewall session table verbose 查看会话表</p><p>Current Total Sessions : 1<br>http VPN:public --&gt; public ID: a48f3648905d02c0553591da1</p><p>​ 协议	防火墙自身 区分会话<br>Zone: trust–&gt; local TTL: 00:20:00 Left: 00:19:56</p><p>​	区域 老化时间 剩余时间</p><p>Output-interface: InLoopBack0 NextHop: 127.0.0.1 MAC: 00-00-00-00-00-00</p><p>​	数据入口<br>&lt;–packets:3073 bytes:3251431 --&gt;packets:2881 bytes:705651<br>128.18.196.4:1864–&gt;128.18.196.251:80 PolicyName: test</p><h4 id="aspf"><a class="markdownIt-Anchor" href="#aspf">#</a> ASPF</h4><p>单通道协议：使用传输层一个端口的协议</p><p>多通道协议：使用传输层两个或两个以上的端口的协议</p><h5 id="ftp文件传输协议"><a class="markdownIt-Anchor" href="#ftp文件传输协议">#</a> FTP：文件传输协议</h5><p>C/S，客户端可以从服务器上 上传或下载文件</p><p>FTP:TCP 20 数据端口：传输 FTP 数据</p><p>​	TCP 21 控制端口：协商 FTP 参数，传输模式，工作模式，认证</p><p>FTP 工作模式：</p><ol><li>主动模式：服务器发起数据信道建立<img data-src="C:%5CUsers%5Cz.j.j%5CDesktop%5Chcia-%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%5Cassets%5C%E4%B8%BB%E5%8A%A8.png" alt="主动"></li><li>被动模式：客户端发起数据信道建立</li></ol><p>、<img data-src="C:%5CUsers%5Cz.j.j%5CDesktop%5Chcia-%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%5Cassets%5C%E8%A2%AB%E5%8A%A8.png" alt="被动"></p><p>ASPF :</p><p>​	特殊应用包过滤技术</p><p>​	作用：监听应用层数据，动态创建 / 删除 Server-map 表</p><p>存在 Server-map，就会创建会话表</p><p>ASPF 适用于多通道协议场景，自动创建 Server-map 对应的会话表</p><p>创建 Server-map 表项的场景：</p><pre><code>1. 使能ASPF,转发基于TCP的多信道协议，创建动态Server-map表
2. 使能ASPF,转发基于UDP的多信道协议，创建动态Server-map表
3. 配置NAT-Server，创建静态Server-map表（不会老化）
4. 配置NAT No-Pat，创建动态server-map表
</code></pre><p>端口识别 / 端口映射：</p><p>​	转换数据包中的 D.port，将非标准端口转换成标准端口</p><p>分片缓存：</p><p>​	包分片时，最后一个包分片携带网络层以上的头部，其余所有的包分片，不携带传输层 / 应用层的头部信息</p><p>​	加快数据发送的效率</p><p>​	造成：防火墙无法识别到后续包分片的端口信息</p><p>将收到的包分片进行重组之后再匹配安全策略，防止前面的包分片因不携带 IP 上层头部信息导致无法匹配安全策略</p><p>长连接：会话表老化时间</p><p>​	维持长时间会话表老化时间</p><p>​	针对于特殊的应用，应用需要维持长时间的通信</p><p>​</p><p>​	出口网关设备：pppoe+nat + 默认路由 + 回包路由</p><p>NAT 网络地址转换：</p><p>​	部署位置：一般部署再网络出口设备</p><p>NAT 分类：</p><p>​	S.NAT: 转换源 IP 地址 / 源端口</p><pre><code>1. 地址池模式：no-pat，pat
2. 出接口模式：Easy-IP 
</code></pre><p>​	D.NAT: 转换目的 IP 地址 / 目的端口</p><p>​	NAT-Server（服务器映射）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">防火墙配置nat策略</span><br><span class="line">nat-policy</span><br><span class="line"> rule name nat</span><br><span class="line">  source-zone trust</span><br><span class="line">  source-zone dmz</span><br><span class="line">  egress-interface GigabitEthernet1/0/2</span><br><span class="line">  action nat easy-ip</span><br><span class="line">   </span><br><span class="line">security-policy</span><br><span class="line"> rule name ospf</span><br><span class="line">  source-zone trust</span><br><span class="line">  destination-zone local</span><br><span class="line">  service protocol 89</span><br><span class="line">  action permit</span><br><span class="line">  </span><br><span class="line"> rule name t_ut</span><br><span class="line">  source-zone trust</span><br><span class="line">  source-zone dmz</span><br><span class="line">  destination-zone untrust</span><br><span class="line">  action permit</span><br></pre></td></tr></table></figure><p>nat server fff protocol tcp global 100.1.24.3 ftp inside 10.1.2.1 ftp</p><p><strong>进行源地址转换时，先匹配安全策略，再进行地址转换</strong></p><p>​	安全策略：S.IP 私网内设备的 IP 地址</p><p><strong>进行目的地址转换时</strong>，<strong>先进行地址转换</strong>，<strong>在进行安全策略匹配</strong></p><p>​	安全策略：D.IP 私网服务器的 IP 地址</p><p>双向 NAT：</p><p>​	S.NAT: 转换数据包的源 IP 地址</p><p>​	D.NAT: 转换数据包的目的 IP 地址</p><p>​	双向 NAT: 同一个数据包，即转换源地址同时转换目的地址 0</p><p>应用场景：实现私网内部通过公网地址访问私网内部的服务器，隐藏服务器的真实 IP 地址</p><p>网络可靠性 / 冗余性</p><ol><li><p>设备冗余：</p><ol><li>热备：备份的设备处于上电状态 堆叠 / 集群 / VRRP</li><li>冷备：备份的设备处于下电状态</li></ol></li><li><p>端口冗余:</p><p>以太网链路聚合 Eth-Trunk</p><p>ppp 协议链路聚合 MP-Group</p><p>HDLC 协议链路聚合 IP-Trunk</p></li><li><p>链路冗余：</p><p>拓扑设计规划</p></li></ol><p>防火墙冗余技术：双机热备</p><p>​	vrrp 协议：实现将多个网关逻辑上虚拟为一个网关</p><p>防火墙使用 VRRP 实现冗余存在的问题：</p><ol><li><p>防火墙进行主备切换时，备份设备收到后续的流量因不存在会话表项，造成流量丢失</p><p>解决：HRP 华为私有协议：防火墙之间同步状态信息和关键配置信息（会话表，Server-map ，NAT-Policy ，安全策略）</p></li><li><p>防火墙存在多个 VRRP 组，VRRP 组内角色不一致时，导致流量来回路径不一致，如果存在接口故障，甚至会导致流量丢失</p><p>解决：VGMP 协议（VRRP 组管理协议）</p><p>作用：不同的 VRRP 组内保障角色的一致性</p></li></ol><p>防火墙双机热备中使用：</p><ol><li>VRRP 协议 + VGMP 协议</li><li>HRP 协议</li></ol><p>防火墙虚拟系统</p><p>​	将一台物理防火墙逻辑上虚拟为多台防火墙</p><p>​	每台防火墙之间逻辑上隔离，管理平面隔离</p><p>​	虚拟系统一般用于多租户场景，使用该技术实现每个租户单独维护和管理一个虚拟系统</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">1.</span><br><span class="line">vsys enable </span><br><span class="line">resource-class abc</span><br><span class="line"> resource-item-limit session reserved-number 10 maximum 100</span><br><span class="line"> resource-item-limit policy reserved-number 20</span><br><span class="line"> resource-item-limit user reserved-number 3</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">vsys name A  //创建虚拟系统</span><br><span class="line"> assign interface GigabitEthernet1/0/0 //关联接口</span><br><span class="line"> assign interface GigabitEthernet1/0/2</span><br><span class="line"> assign resource-class abc //关联资源类</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">2.为虚拟系统创建管理员</span><br><span class="line">Switch vsys A </span><br><span class="line">aaa</span><br><span class="line">manager-user-A@@A</span><br><span class="line">password cipher admin@123</span><br><span class="line">service-type web</span><br><span class="line">level 3</span><br><span class="line"></span><br><span class="line">创建虚拟系统管理员于虚拟系统配置IP，路由，安全策略，NAT</span><br><span class="line">switch vsys A</span><br><span class="line"> </span><br><span class="line">4.虚拟系统之间互访</span><br><span class="line">4.1创建VLF区域</span><br><span class="line">firewall zone name VIF id 4</span><br><span class="line"> set priority 1</span><br><span class="line"> add interface Virtual-if1</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">rule name T_VLF //创建安全策略t访问VLF</span><br><span class="line">  source-zone trust</span><br><span class="line">  destination-zone VIF</span><br><span class="line">  action permit</span><br><span class="line">4.2配置虚拟系统之间访问的路由</span><br><span class="line"></span><br><span class="line">4.3配置虚拟地址之间的安全策略</span><br><span class="line"></span><br><span class="line"> </span><br></pre></td></tr></table></figure><p>VPN 概述：</p><p>​	二级 ISP 搭建 VPN 网络：MPLS VPN</p><p>​	企业自建 VPN 网络：IPSec，L2TP ,GRE,SSL</p><p>​</p><p>VPN 定义：</p><p>​	再 ISP 基础上构建一条逻辑上的专线（隧道）</p><p>VPN 分类：</p><p>​	按照业务类型</p><ol><li><p>Accsee VPN/Client-LAN VPN</p><p>适用于远程办公，居家办公接入公司内网的场景</p></li><li><p>LAN-LAN VPN</p><p>一个局域网通过 VPN 接入到另一个局域网</p><p>适用于总部分支通信的场景</p></li></ol><p>​	按网络层次：</p><p>​	应用层： SSL VPN</p><p>​	网络层：IPSec VPN ,GRE VPN</p><p>​	网络接口层 ： L2TP</p><p>​</p><table><thead><tr><th><strong>隧道协议</strong></th><th><strong>保护范围</strong></th><th><strong>使用场景</strong></th><th><strong>用户身份认证</strong></th><th><strong>加密和验证</strong></th></tr></thead><tbody><tr><td>GRE</td><td>IP 层及以上数据</td><td>Intranet VPN</td><td>不支持</td><td>支持简单的关键字验证、校验</td></tr><tr><td>L2TP</td><td>IP 层及以上数据</td><td>Access VPN Extranet VPN</td><td>支持基于 PPP 的 CHAP、PAP、EAP 认证</td><td>不支持</td></tr><tr><td>IPSec</td><td>IP 层及以上数据</td><td>Intranet VPN Access VPN Extranet VPN</td><td>支持预共享密钥或证书认证、支持 IKEv2 的 EAP 认证</td><td>支持</td></tr><tr><td>SSL VPN</td><td>应用层特定数据</td><td>Access VPN</td><td>支持多种身份认证</td><td>支持</td></tr></tbody></table><p>VPN 核心技术：</p><ol><li><p>隧道技术</p></li><li><p>加解密技术</p><p>​	古典加密学：算法保密，密钥保密</p><p>​	近代加密学：算法公开，密钥保密</p><p>​	现代加密学：算法公开，密钥公开</p><p>主流的加解密算法：</p><ol><li><p>对称加密算法</p><p>缺陷：</p><ol><li>密钥传输存在风险</li><li>密钥数量多，难以管理</li></ol><p><img data-src="C:%5CUsers%5Cz.j.j%5CDesktop%5Chcia-%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%5Cassets%5C1676600668432.png" alt="1676600668432"></p></li><li><p>非对称加密算法</p><p>维护两个密钥：公钥，私钥</p><p>公钥公开，私钥保密</p><p>使用公钥加密，只能使用私钥解密：数据加解密</p><p>使用私钥加密，只能使用公钥解码：数字签名</p></li></ol></li></ol><p><img data-src="C:%5CUsers%5Cz.j.j%5CDesktop%5Chcia-%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%5Cassets%5C1676601799431.png" alt="1676601799431"></p><p>​	数据加解密场景：</p><p>​	数据加解密时，使用对称加密算法</p><p>​	传输对称加密算法的密钥时，使用非对称加密算法进行加密传递</p><ol start="3"><li><p>身份认证技术：</p><p>数字证书：</p><p>被颁发者的身份信息</p><p>被颁发者的公钥信息</p><p>颁发者的身份信息</p></li></ol><p>数据传输安全案例:</p><ol><li>A 的原始信息通过 HASH 算法形成<strong>信息摘要</strong></li><li>然后用 A 自己的私钥和信息摘要形成<strong>数字签名</strong></li><li>然后用 A 和 B 之间的<strong>对称加密密钥</strong>进行对 A 的原始信息，数字签名，A 的证书 加密形成<strong>加密信息</strong></li><li>然后用 B 的公钥对称加密形成<strong>密钥信封</strong></li><li>然后 B 收到后密钥信封后用 B 的私钥对称解密得到 对称加密密钥</li><li>然后 B 用对称加密密钥 对加密信息进行解密 得到原始信息，数字签名，A 的证书</li><li>从 A 的证书中得到 A 的公钥</li><li>然后 B 用 A 的公钥验证数字签名 得到信息摘要</li><li>B 对原始信息进行 HASH 算法形成信息摘要</li><li>进行对比</li></ol><p>IPSec VPN</p><pre><code>1. 企业自建VPN 
2. IPSec开发协议簇，包含AH协议,ESP协议，IKE协议
3. IPSec支持IPv4和IPv6
4. IPSec属于网络层VPN ,通过隧道封装（插入新头部）保护网络层及以上的数据部分
</code></pre><p>IPSec 工作模式:</p><ol><li><p>传输模式</p><p>​	使用于主机和主机之间端到端通信保护</p><p>​	隧道封装：在原始数据包 IP 头部后插入 IPSec 头部</p><p>​	原始数据包：IP 头 Data</p><p>​	隧道封装后：IP 头	IPSec	Data</p><p>​</p></li><li><p>隧道模式</p><p>​	适用于私网和私网之间通信保护</p><p>​	隧道封装：在原始数据包前新增新的 IP 头和 IPSec 头部</p><p>​	原始数据包：IP 头	Data</p><p>​	隧道封装后：新 IP 头	IPSec IP 头	Data</p></li></ol><p>通信保护协议</p><ol><li><p>AH 协议 鉴别头协议 / 认证报头协议 50</p><p>安全功能：</p><pre><code> 1. 完整性校验：哈希算法计算摘要值
 2. 数据源鉴别：共享密钥
 3. 防重放攻击：序列号
</code></pre></li></ol><p>AH 协议在传输模式下封装：</p><p>​	原始数据包：IP 头 Data</p><p>​	对整个数据包进行 hash 计算，摘要值填充到 AH 头部中</p><p>​	隧道封装后：IP 头 AH 头	Data</p><p>AH 在隧道模式下封装：</p><p>​	原始数据包：IP 头	Data</p><p>​	添加新 IP 头：新 IP 头	IP 头	data</p><p>​	对整个数据包进行 hash 计算，包含新的 IP 头</p><p>​	隧道封装后：新 IP 头	AH 头	原始 IP 头	Data</p><p><strong>AH 协议在进行完整性计算时，包含了最外层 IP</strong> 头部（）整个数据包</p><p>2.ESP 协议 封装安全净载协议 50</p><p>​	安全功能：</p><ol><li>完整性校验</li><li>数据源鉴别</li><li>防重传攻击</li><li>数据加解密</li></ol><p>ESP 在传输模式下封装：</p><p>​	原始数据包：IP 头	Data</p><p>​	隧道封装后：IP 头	IPSec 头	Data	IPSec 尾部</p><p>​	对 Data 和 IPSec 尾部进行加密：IP 头部	IPsec 头 加密（Data ipsec 尾部）</p><p>​	对 IPsec 头部和加密部分进行校验：IP 头	IPsec 头	加密	IPSec 认证</p><p>ESP 在隧道模式下封装：</p><p>​	原始数据包：IP 头	Data</p><p>​	隧道封装后：新的 IP 头	IPsec 头	ip 头	data	ipsec 尾部</p><p>​	对原始整个数据包和尾部进行加密：新 ip 头	IPsec 头	加密（IP 头	Data	IPsec 尾部）</p><p>​	对 IPsec 头部和加密部分进行校验：新 IP 头	IPsec 头	加密	IPSec 认证</p><p>ESP 加密部分：</p><p>传输模式，加密 Data IPSec 尾部</p><p>隧道模式，加密整个原始数据包和 IPsec 尾部</p><p>ESP 校验部分：</p><p>传输模式，校验 ESP 头部和加密数据（Data IPSEC 尾部）</p><p>隧道模式，校验 ESP 头部和加密部分（原始数据包，IPsec 尾部）</p><p>ESP 校验不包含最外层 IP 头</p><table><thead><tr><th><strong>安全特性</strong></th><th><strong>AH</strong></th><th><strong>ESP</strong></th></tr></thead><tbody><tr><td><strong>协议号</strong></td><td>51</td><td>50</td></tr><tr><td><strong>数据完整性校验</strong></td><td>支持</td><td>支持（不验证 IP 头）</td></tr><tr><td><strong>数据源验证</strong></td><td>支持</td><td>支持</td></tr><tr><td><strong>数据加解密</strong></td><td>不支持</td><td>支持</td></tr><tr><td><strong>抗重放服务</strong></td><td>支持</td><td>支持</td></tr><tr><td><strong>NAT-T</strong>**（<strong><strong>NAT</strong></strong> 穿越）**</td><td>不支持</td><td>支持</td></tr></tbody></table><p>IPsec 建立：</p><ol><li><p>建立 IPsec 安全联盟</p><ol><li><p>手工建立安全联盟</p></li><li><p>IKE 协议动态建立安全联盟</p><p>IKE 工作工程：</p><ol><li><p>建立 IKE SA：建立临时的经过身份认证的保密的通道</p><p>ipsec 的 ike 协商用端口 udp500 和 udp4500</p><p>​	核心任务：</p><ol><li>协商 IKE SA 参数</li><li>密钥交换</li><li>身份认证</li></ol><p>​	主模式：</p><ol><li>使用出口地址作为身份标识</li><li>交互 6 个消息，后两个消息被保护</li><li>身份认证过程被加密保护</li></ol><p>​	野蛮模式：</p><ol><li>使用用户名字符串，IP 地址等作为身份标识</li><li>交互三个消息，只有最后一个消息被保护</li><li>不保护对端的身份标识</li></ol></li><li><p>建立 IPSec SA ：建立 IPsec 数据保护的真正通道</p><p>核心：协商 IPsec 安全参数</p><p>​	加密算法<br>​	Hash 算法<br>​	安全协议<br>​	工作模式<br>​	存活时间</p><p>模式：快速模式</p><p>​</p></li></ol><table><thead><tr><th></th><th><strong>主模式</strong></th><th><strong>野蛮模式</strong></th></tr></thead><tbody><tr><td><strong>消息交互</strong></td><td>交互 6 个消息</td><td>交互 3 个消息</td></tr><tr><td><strong>身份 ****ID</strong></td><td>以 IP 地址作为身份 ID，自动生成本端身份 ID 和对端身份 ID</td><td>可以以多种形式（IP，字符串等）手动或自动的生成本端和对端的身份 ID</td></tr><tr><td><strong>预共享密钥</strong></td><td>只能基于 IP 地址来确定预共享密钥。</td><td>基于 ID 信息（主机名和 IP 地址）来确定预共享密钥。</td></tr><tr><td><strong>安全性</strong></td><td><strong>较高</strong>前 4 个消息以明文传输，最后两个消息加密，对对端身份进行了保护</td><td><strong>较低</strong>前两个消息以明文传输，最后一个消息进行加密，不保护对端身份</td></tr><tr><td><strong>速度</strong></td><td>较慢</td><td>较快</td></tr></tbody></table></li></ol></li><li><p>IPsec 数据传输</p></li></ol><p>SA 安全联盟：</p><p>​	vpn 网关设备之间参数约定</p><p>​	SA 由三元组唯一标识：安全参数索引（SPI） 目的 IP 地址	安全协议号</p><p>NAT-T 场景下：</p><p>​	IPsec VPN：</p><p>​	隧道模式，ESP 协议，野蛮模式</p></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-02-18 11:44:35" itemprop="dateModified" datetime="2023-02-18T11:44:35+08:00">2023-02-18</time> </span><span id="2023/02/20/2023.2.13/" class="item leancloud_visitors" data-flag-title="HCIA-security(一) 2023.2.13" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="峻峻尼 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="峻峻尼 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="峻峻尼 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>峻峻尼 <i class="ic i-at"><em>@</em></i>峻峻尼的个人博客</li><li class="link"><strong>本文链接：</strong> <a href="http://example.com/2023/02/20/2023.2.13/" title="HCIA-security(一) 2023.2.13">http://example.com/2023/02/20/2023.2.13/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/01/24/2022.12.9/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipexbei4hj20zk0m8npd.jpg" title="HCIP(十八） 2022.12.9"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>HCIP(十八） 2022.12.9</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">防火墙基础：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.</span> <span class="toc-text">基本功能：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.</span> <span class="toc-text">防火墙分类：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E5%8F%91%E5%B1%95%E5%8F%B2"><span class="toc-number">1.3.</span> <span class="toc-text">防火墙发展史：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E5%8C%BA%E5%9F%9F"><span class="toc-number">1.3.1.</span> <span class="toc-text">安全区域：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E7%BA%A7%E5%88%AB"><span class="toc-number">1.3.2.</span> <span class="toc-text">安全级别：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E7%A7%8D%E7%B1%BB"><span class="toc-number">1.4.</span> <span class="toc-text">防火墙种类:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E9%83%A8%E7%BD%B2"><span class="toc-number">1.5.</span> <span class="toc-text">防火墙部署：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5"><span class="toc-number">1.6.</span> <span class="toc-text">防火墙安全策略：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.6.1.</span> <span class="toc-text">安全策略的分类:</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#aspf"><span class="toc-number">1.7.</span> <span class="toc-text">ASPF</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ftp%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.7.1.</span> <span class="toc-text">FTP：文件传输协议</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="峻峻尼" data-src="/images/avatar.jpg"><p class="name" itemprop="name">峻峻尼</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">47</span> <span class="name">文章</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hpbnl1empq" title="https:&#x2F;&#x2F;github.com&#x2F;xinyuzjj"><i class="ic i-github"></i></span> <a href="/1105002234@qq.com" title="1105002234@qq.com" class="item email"><i class="ic i-envelope"></i></a> <span class="exturl item bilibili" data-url="aHR0cHM6Ly9zcGFjZS5iaWxpYmlsaS5jb20vMTY5ODgwNDMwP3NwbV9pZF9mcm9tPTMzMy4xMDA3LjAuMA==" title="https:&#x2F;&#x2F;space.bilibili.com&#x2F;169880430?spm_id_from&#x3D;333.1007.0.0"><i class="ic i-bilibili"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>links</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2022/11/29/2022.11.25/" title="HCIP(十) 2022.11.25">HCIP(十) 2022.11.25</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/11/14/2022.11.14/" title="HCIP(二) 2022.11.14">HCIP(二) 2022.11.14</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/11/30/2022.11.29/" title="HCIP(十二) 2022.11.29">HCIP(十二) 2022.11.29</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/11/16/2022.11.15/" title="HCIP(三) 2022.11.15">HCIP(三) 2022.11.15</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/10/04/creat_ok/" title="hexo搭建博客">hexo搭建博客</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/01/24/2022.12.13/" title="HCIP(二十) 2022.12.13">HCIP(二十) 2022.12.13</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/01/24/2022.12.12/" title="HCIP(十九) 2022.12.12">HCIP(十九) 2022.12.12</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/01/24/2022.12.16/" title="HCIP(二十三) 2022.12.16">HCIP(二十三) 2022.12.16</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/10/31/2022.10.31/" title="HCIA(十一) 2022.10.31">HCIA(十一) 2022.10.31</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/11/24/2022.11.21/" title="HCIP(六) 2022.11.21">HCIP(六) 2022.11.21</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">峻峻尼 @ Z.J.J</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">88k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">1:20</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/02/20/2023.2.13/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>