<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color=""><link rel="manifest" href="/images/manifest.json"><meta name="msapplication-config" content="/images/browserconfig.xml"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="峻峻尼的个人博客" href="http://example.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="峻峻尼的个人博客" href="http://example.com/atom.xml"><link rel="alternate" type="application/json" title="峻峻尼的个人博客" href="http://example.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="http://example.com/2023/02/27/2023.2.20/"><title>云计算 2023.2.20 | Z.J.J = 峻峻尼的个人博客</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">云计算 2023.2.20</h1><div class="meta"><span class="item" title="创建时间：2023-02-27 09:18:49"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-02-27T09:18:49+08:00">2023-02-27</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>4.8k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>4 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Z.J.J</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciub8ja1j20zk0m81ky.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclh3brzpj20zk0m8ann.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclj9410cj20zk0m8h12.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicitf0kl1j20zk0m87fe.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclgrvbd6j20zk0m8qv5.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipexe4oykj20zk0m87ji.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://example.com/2023/02/27/2023.2.20/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="峻峻尼"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="峻峻尼的个人博客"></span><div class="body md" itemprop="articleBody"><h4 id="云计算是什么"><a class="anchor" href="#云计算是什么">#</a> 云计算是什么？</h4><p>​	在传统模式下，用户通过使用实际的硬件设备，达到完成业务运行的目的，但基于实际设备运维成本较高，不利于用户的资源共享。</p><p>​	传统模式下，软件与硬件是紧密耦合状态，虚拟化之后，实现软硬件的解耦</p><p>​	云计算是通过资源整合后，基于服务器 / 硬件设备的集群，创建虚拟计算机，提供给用户使用</p><h5 id="云计算优势"><a class="anchor" href="#云计算优势">#</a> 云计算优势：</h5><p>由于传统模式的成本高，因此可通过虚拟化的技术，将真实的物理资源整合，之后分配给不同的用户，以实现资源共享，对于厂商则将设备的商业价值最大化</p><h5 id="云计算的构成"><a class="anchor" href="#云计算的构成">#</a> 云计算的构成：</h5><p>计算资源虚拟化 + 存储资源虚拟化 + 网络资源虚拟化 + Internet = 云计算</p><h5 id="虚拟化是什么"><a class="anchor" href="#虚拟化是什么">#</a> 虚拟化是什么：</h5><p>虚拟化指将实际的设备通过虚拟化技术整合成虚拟资源池（计算 / 存储 / 网络），以租用的方式提供给用户，资源池中的资源是共享的，通过虚拟化实现资源的商业价值最大化，最终实现资源的复用率提高</p><h5 id="云计算与虚拟化的关系"><a class="anchor" href="#云计算与虚拟化的关系">#</a> 云计算与虚拟化的关系：</h5><p>虚拟化是实现云计算的基础，云计算是将虚拟化提供给用户的商业模式</p><h5 id="云计算服务类型"><a class="anchor" href="#云计算服务类型">#</a> 云计算服务类型：</h5><p>基础即服务 — — 硬件设施</p><p>平台即服务 — — 操作系统</p><p>软件即服务 — — 运行在系统之上的 APP</p><h5 id="云计算的商业价值"><a class="anchor" href="#云计算的商业价值">#</a> 云计算的商业价值：</h5><p>私有云：针对个人所使用的云环境（针对特定用户）</p><p>公有云：针对所有用户</p><p>混合云：两种云环境结合使用</p><p>行业云：属于私有云，只限于行业内部人员使用</p><h5 id="云计算的优点通用点"><a class="anchor" href="#云计算的优点通用点">#</a> 云计算的优点 / 通用点</h5><p>按需自助的服务：根据用户的资源需求量，自助选择服务类型</p><p>随时随地的网络接入：对于用户接入服务的地点，没有地域限制，只要有公网可达即可</p><p>弹性伸缩的资源：根据用户的需求，可对资源进行伸缩</p><p>可计量的收费方式：根据用户的使用情况，收取相应的费用</p><p>资源池化：将所有的硬件资源，整合成资源池，达到资源共享的目的，从而提高资源复用率，节约用户成本</p><p>大规模：由于虚拟化资源使用，必须基于底层设备的支持，因此根据发展情况，厂商会不断扩大底层硬件的规模</p><p>安全性：虚拟化实现 封装 / 独立 / 分区 / 灵活迁移</p><p>异构化 / 同构化</p><h4 id="问题"><a class="anchor" href="#问题">#</a> 问题：</h4><h5 id="为什么需要云计算"><a class="anchor" href="#为什么需要云计算">#</a> 为什么需要云计算：</h5><p>​	基于硬件设备的支持，提升运行的效率，提高资源的复用率，实现资源共享，节约成本</p><h5 id="云计算实现方式"><a class="anchor" href="#云计算实现方式">#</a> 云计算实现方式：</h5><p>​	以虚拟化作为基础，实现软硬件解耦，再分为不同的服务类型，以私有云 / 公有云 / 混合云 / 行业云出租给用户，实现商业价值的最大值</p><h5 id="云计算是什么-2"><a class="anchor" href="#云计算是什么-2">#</a> 云计算是什么？</h5><p>​ 让用户创建虚拟计算机，并且使虚拟计算机最大程度接近于真实主机的运行。</p><h5 id="虚拟化优势"><a class="anchor" href="#虚拟化优势">#</a> 虚拟化优势：</h5><p>​	将资源池化，实现资源共享，提高资源复用率，降低成本</p><h5 id="云计算与虚拟化的关系-2"><a class="anchor" href="#云计算与虚拟化的关系-2">#</a> 云计算与虚拟化的关系：</h5><p>​	虚拟化是实现云计算的前提条件</p><hr><h4 id="计算虚拟化"><a class="anchor" href="#计算虚拟化">#</a> 计算虚拟化</h4><p>针对 CPU / 内存 / IO 读写，虚拟机在运行过程中，与底层设备之间交互的过程</p><p>虚拟化层：将硬件资源进行虚拟化整合，分享</p><h5 id="计算虚拟化架构"><a class="anchor" href="#计算虚拟化架构">#</a> 计算虚拟化架构</h5><p><strong>全虚拟化</strong>：将底层硬件全部整合成虚拟资源池，当虚拟机发送指令时，直接由虚拟化层处理回应，不会影响到底层，实现虚拟化目的，但性能最差</p><p><strong>半虚拟化</strong>：虚拟机向底层发放指令时，先由虚拟化层拦截，再进行区分转发给底层，底层接收后，再经过虚拟化层转发给虚拟机，相比全虚在实现虚拟化的基础上性能提升</p><p><strong>硬件辅助虚拟化</strong>：虚拟机与硬件层，一一对应，可直接通过虚拟化层，将指令发送给底层硬件，相对性能最好</p><p>并且虚拟化层与底层硬件之间，分别根据主机，系统，软件等 分成 Ring0-Ring3 四个级别</p><p>一般由<strong> Ring0</strong> 发出的指令都属于<strong>特权（敏感）指令</strong>，此种指令表明会对底层主机产生直接影响，对于主机的运行状态产生影响，</p><p>所以<strong> Ring0</strong> 属于核心区域，底层主机和虚拟机所在的位置都属于<strong> Ring0</strong>,</p><p><strong>Ring1</strong> 是系统所在层次，<strong>ring2</strong> 属于<strong>过渡层</strong>没有明确的对应位置，</p><p><strong>ring3</strong> 对应应用软件层，并且由<strong> ring3</strong> 发出的指令属于<strong>普通指令</strong></p><p>普通指令指只会影响底层资源的调用</p><h5 id="计算虚拟化分类"><a class="anchor" href="#计算虚拟化分类">#</a> 计算虚拟化分类：</h5><p>​	<strong>寄居虚拟化</strong> /<strong> 宿主虚拟化</strong>，在硬件设备上直接按照虚拟化操作系统（虚拟机），是否能运行正常，取决于底层是否支持，因此此种模式对硬件要求较高。</p><p>​	<strong>裸金属虚拟化</strong>，属于半虚拟化的一种，虚拟机属于内核态运行，依靠 XEN 虚拟化技术将虚拟机的指令统一处理下发到底层，但 XEN 开发难度大，安全性高，处理的效率较低，并且若虚拟化架构发生改变，则需重新开发</p><p>​	<strong>混合虚拟化</strong>，属于半虚拟化，但相比 XEN 技术，混合虚拟化依靠 KVM 技术运行，此种类型处理效率较高，相当于安装在虚拟化层的进程，不会因为架构改变而重新研发</p><p>​	<strong>操作系统虚拟化</strong>，指使用容器技术实现虚拟机运行，此种虚拟化模式下，多个虚拟机共享同一操作系统，因此独立和安全性不足</p><p>​	一型虚拟化：半虚拟化</p><p>​	二型虚拟化：寄居虚拟化</p><h5 id="虚拟化技术的区别"><a class="anchor" href="#虚拟化技术的区别">#</a> 虚拟化技术的区别</h5><p><strong>XEN</strong>：在半虚拟化中，将虚拟化所有的指令统一转发给 DOM 0, 此区域是 XEN 的核心处理区域，其他虚拟机所在区域为 Dom U 区域，根据虚拟机个数的多少，可以存在多个 U 区域，而 0 区域只有一个，<strong>因此是一对多的关系</strong>，所以由于只由一个 0 区域统一处理，资源占用较大，效率较低，但安全性高</p><p><strong>KVM</strong>：在半虚拟化中，把自身所有的核心 qemu 与不同的虚拟机形成对应，目的是加快虚拟机响应的速度，提升计算读写的处理效率，并且 KVM 的对应关系是可将 qemu<strong> 分成多个与虚拟机形成一一对应的关系</strong></p><h5 id="计算虚拟化对象"><a class="anchor" href="#计算虚拟化对象">#</a> 计算虚拟化对象：</h5><p>​	内存：针对于实际内存资源，通过虚拟化技术，实现内存资源使用 / 共享，依靠内存复用的虚拟化技术</p><pre><code>1.	 内存共享：用户使用相同的部分
2.	 内存气泡：先根据用户虚拟机的请求，进行资源分配，若在使用过程中，存在用户内存不足，则会将其他的空闲内存先挪用给当下继续使用，若后续其他用户需要使用时，则会重新分配资源
3.	 内存置换：指现有的内存全部已占用，若后续有新业务写入，则查看当前不需要经常读写的老业务，并且将其置换出来，空闲的空间则用于写入新的业务，若后续老业务需要读写，则再置换一次空间
</code></pre><p>​	cpu：针对实际的 CPU 内核，实现虚拟化的资源共享</p><p>​	i/o 读写：通过虚拟化的技术，能够让虚拟机接近于真实主机的运行 依靠半虚 / 硬件辅助等方式，将虚拟机的所有指令下发到底层，完成虚拟机的正常读写。</p><h4 id="问题-2"><a class="anchor" href="#问题-2">#</a> 问题：</h4><h5 id="1-xen和kvm的区别"><a class="anchor" href="#1-xen和kvm的区别">#</a> 1 XEN 和 KVM 的区别</h5><h5 id="2-内存复用如何实现"><a class="anchor" href="#2-内存复用如何实现">#</a> 2 内存复用如何实现</h5><p>通过内存共享 气泡 置换</p><h5 id="ps-内存复用如何实现内存资源的共享"><a class="anchor" href="#ps-内存复用如何实现内存资源的共享">#</a> PS 内存复用如何实现内存资源的共享？</h5><p>由于内存复用的目的 (提高内存的利用率，减少内存浪费，从而降低系统成本和提高系统性能。)，在于重复使用相同的内存部分，但根据不同用户的需求，会分成置换 气泡 共享等实现方式，以上三种方式分别通过将占用空间置换成空闲，将空闲未使用的内存分配给需要使用的用户，以及满足多用户可能同时读取的需求，内存复用是在不改变真实设备内存总数的基础上，提高内存资源利用率</p><h5 id="3-全虚半虚硬件辅助区别"><a class="anchor" href="#3-全虚半虚硬件辅助区别">#</a> 3 全虚 / 半虚 / 硬件辅助区别</h5><h5 id="4-虚拟化除实现共享利用率等还能实现什么"><a class="anchor" href="#4-虚拟化除实现共享利用率等还能实现什么">#</a> 4 虚拟化除实现共享，利用率等，还能实现什么</h5><p>隔离性，灵活性，可靠性</p><h5 id="5-计算虚拟化的对象"><a class="anchor" href="#5-计算虚拟化的对象">#</a> 5 计算虚拟化的对象</h5><h4 id="华为的虚拟化平台"><a class="anchor" href="#华为的虚拟化平台">#</a> 华为的虚拟化平台</h4><p><strong>fusion</strong> <strong>compute</strong>（计算虚拟化 / 服务器虚拟化）</p><h5 id="fc的构成"><a class="anchor" href="#fc的构成">#</a> FC 的构成：</h5><p>​	<strong>CNA</strong>：单节点管理，主要用于管理分配单个虚拟机的计算，存储，网络资源</p><p>​	<strong>VRM</strong>：集群管理，主要用于管理分配集群内的虚拟机的生命周期和资源分配统筹</p><h5 id="虚拟机监控器"><a class="anchor" href="#虚拟机监控器">#</a> 虚拟机监控器：</h5><p>​	<strong>hyper</strong>-v（Hypervisor）：作用是管理统称分配虚拟化资源 ，在虚拟化层</p><h4 id="网络虚拟化"><a class="anchor" href="#网络虚拟化">#</a> 网络虚拟化：</h4><p>由于创建出虚拟机目的是为虚拟机之间能够像真实主机一样相互通信，因此需要把实际的网络资源，虚拟化后，提供给虚拟机使用</p><p>虚拟机通信主要依靠虚拟交换机实现</p><h5 id="虚拟机通信必备组件"><a class="anchor" href="#虚拟机通信必备组件">#</a> 虚拟机通信必备组件:</h5><p>​	<strong>上行链路</strong>：用于连接物理交换机与虚拟交换机的实际接口，位于物理交换机上</p><p>​	<strong>端口组</strong>：用于连接虚拟机与虚拟交换机的虚拟接口，位于虚拟交换机上</p><p>​	<strong>安全组</strong>：用于保证每一个端口组内的通信安全，设置在每一个端口组中，类似于 QOS 等通信策略，并且端口组内的成员必须执行相同的安全组</p><p>​	<strong>虚拟网卡</strong>：由物理网卡通过虚拟化手段，分配给不同的虚拟机，并且在同一端口组内的虚拟机都可以分配到对应的虚拟网卡</p><p>​	<strong>vlan</strong>：用于分配端口组</p><h5 id="虚拟机通信规则"><a class="anchor" href="#虚拟机通信规则">#</a> 虚拟机通信规则：</h5><ol><li>若虚拟机是处于同一虚拟交换机上，且处于同一端口组内，则直接通过虚拟交换机转发流量，若处在不同端口组内，但处于同一虚拟交换机上，则需要通过上行链路转发</li><li>若虚拟机处在不同交换机上，则同样需要通过上行链路转发</li><li>若虚拟机 vlan 端口组相同，但处在不同虚拟交换机上，由于连接不同的上行链路，因此依旧需要物理交换机实现转发</li></ol><p>虚拟交换机只支持二层转发，物理交换机由于支持三层转发，因此上行链路的类型一般设置为 trunk</p><p>​</p><h5 id="虚拟机流量走向"><a class="anchor" href="#虚拟机流量走向">#</a> 虚拟机流量走向</h5><p><strong>东西</strong>：虚拟机之间的通信是否属于同一集群 / 数据中心内，标准看底层资源是否互通，互通则表示传递的是东西流量</p><p><strong>南北</strong>：虚拟机之间的通信不属于同一数据中心内，底层资源不能互通，则传递的是南北流量</p><h5 id="虚拟网卡类型"><a class="anchor" href="#虚拟网卡类型">#</a> 虚拟网卡类型:</h5><p><strong>普通网卡</strong>：通过虚拟化手段将物理网卡虚拟化后给虚拟机使用，并且对应关系是一对一，同时通过 XEN 虚拟化技术进行转发</p><p><strong>直通网卡</strong>：基于物理网卡通过虚拟化手段，将实际网卡虚拟成多个虚拟网卡，然后用来对应不同的虚拟机，由于虚拟机都有自身对应的网卡，转发效率提升</p><p><strong>用户态网卡</strong>：在直通网卡基础上，加快转发速度</p><h4 id="存储资源虚拟化"><a class="anchor" href="#存储资源虚拟化">#</a> 存储资源虚拟化</h4><h5 id="存储分类"><a class="anchor" href="#存储分类">#</a> 存储分类：</h5><p>​	<strong>集中式存储</strong>：现实中指将一份完整的数据，存储到一块存储设备上，若设备损 坏，则数据丢失，若以虚拟化方式进行存储，则指多个存储设备集中在某一个区域内，联合完成存储目的，可以实现一定程度的数据备份。</p><p>​	<strong>分布式存储</strong>：指可以将一份数据存放到不同的设备上，并且设备所在的位置不在同一区域。分布式存储可以更好的实现数据信息的备份</p><p>​	<strong>虚拟化存储</strong>：能够支持高级虚拟化特性，如快照，链接克隆，完整克隆，存储热迁移</p><p>​	<strong>非虚拟化存储</strong>：不支持高级虚拟化特性</p><h5 id="存储虚拟化特性"><a class="anchor" href="#存储虚拟化特性">#</a> 存储虚拟化特性：</h5><p>​	<strong>快照</strong>：作用是来备份当前状态下运行的业务，并且只能备份部分业务数据，当业务发生中断时，可通过快照功能，将其恢复到之前的某一状态下，快照并不能进行永久性的保存（当热迁移发生时，不支持迁移快照数据）</p><p>​	<strong>链接克隆</strong>：当有批量创建存储磁盘 / 虚拟机时，则可使用此方式，在链接克隆状态可以基于原始母盘，创建多个子盘，并且只需要对母盘进行统一操作即可影响子盘，创建速度快，但母盘故障，由于与子盘之间存在依附关系，则子盘失效</p><p>​	<strong>完整克隆</strong>：同样可以基于母盘进行批量创建，但与子盘之间不存在依附关系，不会因为母盘的失效而失效，创建速度慢</p><p>​	<strong>存储热迁移</strong>：在用户无感应的情况下的进行存储数据的迁移</p><h5 id="虚拟化磁盘分类"><a class="anchor" href="#虚拟化磁盘分类">#</a> 虚拟化磁盘分类：</h5><p>​	<strong>普通磁盘</strong>：会将所有空间展示给用户，并且会清空所有的空间，但用户只会使用到所需要的部分，由于需要清空所有空间，因此创建速度较慢，但性能最好</p><p>​	<strong>普通延迟置零</strong>：同样将所有空间展示给用户，但只清空用户所需要的空间，创建速度快，但性能较差</p><p>​	<strong>精简磁盘</strong>：不会将可用空间展示给用户，只会根据用户的需求发放相应存储空间，创建速度最快，但性能最差</p><h5 id="存储资源与存储设备的关系"><a class="anchor" href="#存储资源与存储设备的关系">#</a> 存储资源与存储设备的关系：</h5><p>​	<strong>存储资源</strong>：是指用来进行存储框架</p><p>​	** 存储设备:** 指不同的存储资源中可以用来进行存储的空间</p><p>​	<strong>数据存储</strong>：指用来统一管理不同存储设备中的数据信息的不同方式</p><h5 id="基于磁盘资源分配"><a class="anchor" href="#基于磁盘资源分配">#</a> 基于磁盘资源分配：</h5><p>​	<strong>普通磁盘</strong>：只能分配给一个虚拟机使用资源</p><p>​	<strong>共享磁盘</strong>：可以将分配的资源给多个虚拟机同时使用</p><h4 id="虚拟化特性"><a class="anchor" href="#虚拟化特性">#</a> 虚拟化特性:</h4><p><strong>HA</strong>(<strong>高可用性</strong>) 当主机发生故障时，为避免虚拟机业务中断，被动将虚拟机迁移到集群内的其他主机上，正常运行，并且 HA 只在底层发生故障时起效，如虚拟机蓝屏 / 故障，则无法进行 HA</p><p><strong>负载均衡</strong>：为提升设备性能，相对节约成本，从而不影响业务的正常运行。</p><p><strong>易扩容</strong>：在不影响业务运行的过程中，若资源池资源不足，则在线进行添加</p><p><strong>内容复用</strong>：提交内存的利用率，降低内存的损号，提高系统性能</p><p><strong>模板部署</strong>：创建虚拟机的方式，但模板不能当虚拟机使用</p><p><strong>虚拟机复制</strong>：快速创建虚拟机的方式</p><p><strong>资源热添加</strong>：体现虚拟化资源易扩容的优势</p><p><strong>快照</strong>：用来备份当前状态下的业务，并且只能保存部分数据，不能永久存在，当业务发生故障时，回到某一个时刻</p><p><strong>numa 架构</strong>：在实现内存 CPU 共享的基础上，提升 CPU 的调用速度</p><p>若需要实现以上虚拟化特性创建的虚拟机需要挂载<strong> tools</strong></p></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-02-27 09:10:14" itemprop="dateModified" datetime="2023-02-27T09:10:14+08:00">2023-02-27</time> </span><span id="2023/02/27/2023.2.20/" class="item leancloud_visitors" data-flag-title="云计算 2023.2.20" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="峻峻尼 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="峻峻尼 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="峻峻尼 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>峻峻尼 <i class="ic i-at"><em>@</em></i>峻峻尼的个人博客</li><li class="link"><strong>本文链接：</strong> <a href="http://example.com/2023/02/27/2023.2.20/" title="云计算 2023.2.20">http://example.com/2023/02/27/2023.2.20/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/02/20/2023.2.13/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclwrdwyaj20zk0m8are.jpg" title="HCIA-security(一) 2023.2.13"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>HCIA-security(一) 2023.2.13</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%91%E8%AE%A1%E7%AE%97%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.</span> <span class="toc-text">云计算是什么？</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%91%E8%AE%A1%E7%AE%97%E4%BC%98%E5%8A%BF"><span class="toc-number">1.1.</span> <span class="toc-text">云计算优势：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%91%E8%AE%A1%E7%AE%97%E7%9A%84%E6%9E%84%E6%88%90"><span class="toc-number">1.2.</span> <span class="toc-text">云计算的构成：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%8C%96%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.3.</span> <span class="toc-text">虚拟化是什么：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%91%E8%AE%A1%E7%AE%97%E4%B8%8E%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">1.4.</span> <span class="toc-text">云计算与虚拟化的关系：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%91%E8%AE%A1%E7%AE%97%E6%9C%8D%E5%8A%A1%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.5.</span> <span class="toc-text">云计算服务类型：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%91%E8%AE%A1%E7%AE%97%E7%9A%84%E5%95%86%E4%B8%9A%E4%BB%B7%E5%80%BC"><span class="toc-number">1.6.</span> <span class="toc-text">云计算的商业价值：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%91%E8%AE%A1%E7%AE%97%E7%9A%84%E4%BC%98%E7%82%B9%E9%80%9A%E7%94%A8%E7%82%B9"><span class="toc-number">1.7.</span> <span class="toc-text">云计算的优点 &#x2F; 通用点</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AE%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">问题：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E4%BA%91%E8%AE%A1%E7%AE%97"><span class="toc-number">2.1.</span> <span class="toc-text">为什么需要云计算：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-number">2.2.</span> <span class="toc-text">云计算实现方式：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%91%E8%AE%A1%E7%AE%97%E6%98%AF%E4%BB%80%E4%B9%88-2"><span class="toc-number">2.3.</span> <span class="toc-text">云计算是什么？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%8C%96%E4%BC%98%E5%8A%BF"><span class="toc-number">2.4.</span> <span class="toc-text">虚拟化优势：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%91%E8%AE%A1%E7%AE%97%E4%B8%8E%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%85%B3%E7%B3%BB-2"><span class="toc-number">2.5.</span> <span class="toc-text">云计算与虚拟化的关系：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E8%99%9A%E6%8B%9F%E5%8C%96"><span class="toc-number">3.</span> <span class="toc-text">计算虚拟化</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E8%99%9A%E6%8B%9F%E5%8C%96%E6%9E%B6%E6%9E%84"><span class="toc-number">3.1.</span> <span class="toc-text">计算虚拟化架构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E8%99%9A%E6%8B%9F%E5%8C%96%E5%88%86%E7%B1%BB"><span class="toc-number">3.2.</span> <span class="toc-text">计算虚拟化分类：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.3.</span> <span class="toc-text">虚拟化技术的区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E8%99%9A%E6%8B%9F%E5%8C%96%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.4.</span> <span class="toc-text">计算虚拟化对象：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AE%E9%A2%98-2"><span class="toc-number">4.</span> <span class="toc-text">问题：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-xen%E5%92%8Ckvm%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">4.1.</span> <span class="toc-text">1 XEN 和 KVM 的区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%86%85%E5%AD%98%E5%A4%8D%E7%94%A8%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0"><span class="toc-number">4.2.</span> <span class="toc-text">2 内存复用如何实现</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ps-%E5%86%85%E5%AD%98%E5%A4%8D%E7%94%A8%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%86%85%E5%AD%98%E8%B5%84%E6%BA%90%E7%9A%84%E5%85%B1%E4%BA%AB"><span class="toc-number">4.3.</span> <span class="toc-text">PS 内存复用如何实现内存资源的共享？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%85%A8%E8%99%9A%E5%8D%8A%E8%99%9A%E7%A1%AC%E4%BB%B6%E8%BE%85%E5%8A%A9%E5%8C%BA%E5%88%AB"><span class="toc-number">4.4.</span> <span class="toc-text">3 全虚 &#x2F; 半虚 &#x2F; 硬件辅助区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E8%99%9A%E6%8B%9F%E5%8C%96%E9%99%A4%E5%AE%9E%E7%8E%B0%E5%85%B1%E4%BA%AB%E5%88%A9%E7%94%A8%E7%8E%87%E7%AD%89%E8%BF%98%E8%83%BD%E5%AE%9E%E7%8E%B0%E4%BB%80%E4%B9%88"><span class="toc-number">4.5.</span> <span class="toc-text">4 虚拟化除实现共享，利用率等，还能实现什么</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-%E8%AE%A1%E7%AE%97%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">4.6.</span> <span class="toc-text">5 计算虚拟化的对象</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%8E%E4%B8%BA%E7%9A%84%E8%99%9A%E6%8B%9F%E5%8C%96%E5%B9%B3%E5%8F%B0"><span class="toc-number">5.</span> <span class="toc-text">华为的虚拟化平台</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#fc%E7%9A%84%E6%9E%84%E6%88%90"><span class="toc-number">5.1.</span> <span class="toc-text">FC 的构成：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9B%91%E6%8E%A7%E5%99%A8"><span class="toc-number">5.2.</span> <span class="toc-text">虚拟机监控器：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%99%9A%E6%8B%9F%E5%8C%96"><span class="toc-number">6.</span> <span class="toc-text">网络虚拟化：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%80%9A%E4%BF%A1%E5%BF%85%E5%A4%87%E7%BB%84%E4%BB%B6"><span class="toc-number">6.1.</span> <span class="toc-text">虚拟机通信必备组件:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%80%9A%E4%BF%A1%E8%A7%84%E5%88%99"><span class="toc-number">6.2.</span> <span class="toc-text">虚拟机通信规则：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%B5%81%E9%87%8F%E8%B5%B0%E5%90%91"><span class="toc-number">6.3.</span> <span class="toc-text">虚拟机流量走向</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8D%A1%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.4.</span> <span class="toc-text">虚拟网卡类型:</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%B5%84%E6%BA%90%E8%99%9A%E6%8B%9F%E5%8C%96"><span class="toc-number">7.</span> <span class="toc-text">存储资源虚拟化</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%88%86%E7%B1%BB"><span class="toc-number">7.1.</span> <span class="toc-text">存储分类：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%99%9A%E6%8B%9F%E5%8C%96%E7%89%B9%E6%80%A7"><span class="toc-number">7.2.</span> <span class="toc-text">存储虚拟化特性：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%8C%96%E7%A3%81%E7%9B%98%E5%88%86%E7%B1%BB"><span class="toc-number">7.3.</span> <span class="toc-text">虚拟化磁盘分类：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%B5%84%E6%BA%90%E4%B8%8E%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">7.4.</span> <span class="toc-text">存储资源与存储设备的关系：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E7%A3%81%E7%9B%98%E8%B5%84%E6%BA%90%E5%88%86%E9%85%8D"><span class="toc-number">7.5.</span> <span class="toc-text">基于磁盘资源分配：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%8C%96%E7%89%B9%E6%80%A7"><span class="toc-number">8.</span> <span class="toc-text">虚拟化特性:</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="峻峻尼" data-src="/images/avatar.jpg"><p class="name" itemprop="name">峻峻尼</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">48</span> <span class="name">文章</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hpbnl1empq" title="https:&#x2F;&#x2F;github.com&#x2F;xinyuzjj"><i class="ic i-github"></i></span> <a href="/1105002234@qq.com" title="1105002234@qq.com" class="item email"><i class="ic i-envelope"></i></a> <span class="exturl item bilibili" data-url="aHR0cHM6Ly9zcGFjZS5iaWxpYmlsaS5jb20vMTY5ODgwNDMwP3NwbV9pZF9mcm9tPTMzMy4xMDA3LjAuMA==" title="https:&#x2F;&#x2F;space.bilibili.com&#x2F;169880430?spm_id_from&#x3D;333.1007.0.0"><i class="ic i-bilibili"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>links</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2022/10/06/2022.10.6/" title="模仿大佬模板进行学习和代码复制（一） 👍">模仿大佬模板进行学习和代码复制（一） 👍</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/11/29/2022.11.25/" title="HCIP(十) 2022.11.25">HCIP(十) 2022.11.25</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/11/16/2022.11.15/" title="HCIP(三) 2022.11.15">HCIP(三) 2022.11.15</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/11/30/2022.11.29/" title="HCIP(十二) 2022.11.29">HCIP(十二) 2022.11.29</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/01/24/2022.12.14/" title="HCIP(二十一) 2022.12.14">HCIP(二十一) 2022.12.14</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/01/24/2022.12.15/" title="HCIP(二十二) 2022.12.15">HCIP(二十二) 2022.12.15</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/12/01/2022.11.30/" title="HCIP(十三) 2022.11.30">HCIP(十三) 2022.11.30</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/01/24/2022.12.8/" title="HCIP(十七） 2022.12.8">HCIP(十七） 2022.12.8</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/11/09/2022.11.4/" title="HCIA(十五）2022.11.4">HCIA(十五）2022.11.4</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/11/24/2022.11.23/" title="HCIP(八) 2022.11.23">HCIP(八) 2022.11.23</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">峻峻尼 @ Z.J.J</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">93k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">1:25</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/02/27/2023.2.20/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>